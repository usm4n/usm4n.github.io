function t(t,e,i,r){Object.defineProperty(t,e,{get:i,set:r,enumerable:!0,configurable:!0})}var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},i={},r={},s=e.parcelRequire5672;null==s&&((s=function(t){if(t in i)return i[t].exports;if(t in r){var e=r[t];delete r[t];var s={id:t,exports:{}};return i[t]=s,e.call(s.exports,s,s.exports),s.exports}var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}).register=function(t,e){r[t]=e},e.parcelRequire5672=s),s.register("hfF85",(function(e,i){t(e.exports,"default",(function(){return h}),(function(t){return h=t}));var r=s("d2jEP"),n=s("1o40Q"),o=i&&!i.nodeType&&i,a=o&&e&&!e.nodeType&&e,c=a&&a.exports===o?r.default.Buffer:void 0,h=(c?c.isBuffer:void 0)||n.default})),s.register("d2jEP",(function(e,i){t(e.exports,"default",(function(){return o}));var r=s("1XI2E"),n="object"==typeof self&&self&&self.Object===Object&&self,o=r.default||n||Function("return this")()})),s.register("1XI2E",(function(i,r){t(i.exports,"default",(function(){return s}));var s="object"==typeof e&&e&&e.Object===Object&&e})),s.register("1o40Q",(function(e,i){t(e.exports,"default",(function(){return r}));var r=function(){return!1}})),s.register("jjCCN",(function(e,i){t(e.exports,"default",(function(){return c}),(function(t){return c=t}));var r=s("1XI2E"),n=i&&!i.nodeType&&i,o=n&&e&&!e.nodeType&&e,a=o&&o.exports===n&&r.default.process,c=function(){try{var t=o&&o.require&&o.require("util").types;return t||a&&a.binding&&a.binding("util")}catch(t){}}()}));var n=Math.floor,o=Math.random;var a=function(t){var e,i,r=t.length;return r?t[(e=0,i=r-1,e+n(o()*(i-e+1)))]:void 0};var c=function(t,e){for(var i=-1,r=null==t?0:t.length,s=Array(r);++i<r;)s[i]=e(t[i],i,t);return s};var h=function(t,e){return c(e,(function(e){return t[e]}))};var l=function(t,e){for(var i=-1,r=Array(t);++i<t;)r[i]=e(i);return r},u=s("d2jEP").default.Symbol,d=Object.prototype,p=d.hasOwnProperty,y=d.toString,f=u?u.toStringTag:void 0;var b=function(t){var e=p.call(t,f),i=t[f];try{t[f]=void 0;var r=!0}catch(t){}var s=y.call(t);return r&&(e?t[f]=i:delete t[f]),s},x=Object.prototype.toString;var v=function(t){return x.call(t)},g=u?u.toStringTag:void 0;var j=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":g&&g in Object(t)?b(t):v(t)};var m=function(t){return null!=t&&"object"==typeof t};var w=function(t){return m(t)&&"[object Arguments]"==j(t)},A=Object.prototype,O=A.hasOwnProperty,V=A.propertyIsEnumerable,E=w(function(){return arguments}())?w:function(t){return m(t)&&O.call(t,"callee")&&!V.call(t,"callee")},M=Array.isArray,B=s("hfF85"),S=/^(?:0|[1-9]\d*)$/;var z=function(t,e){var i=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==i||"symbol"!=i&&S.test(t))&&t>-1&&t%1==0&&t<e};var P=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991},C={};C["[object Float32Array]"]=C["[object Float64Array]"]=C["[object Int8Array]"]=C["[object Int16Array]"]=C["[object Int32Array]"]=C["[object Uint8Array]"]=C["[object Uint8ClampedArray]"]=C["[object Uint16Array]"]=C["[object Uint32Array]"]=!0,C["[object Arguments]"]=C["[object Array]"]=C["[object ArrayBuffer]"]=C["[object Boolean]"]=C["[object DataView]"]=C["[object Date]"]=C["[object Error]"]=C["[object Function]"]=C["[object Map]"]=C["[object Number]"]=C["[object Object]"]=C["[object RegExp]"]=C["[object Set]"]=C["[object String]"]=C["[object WeakMap]"]=!1;var T=function(t){return m(t)&&P(t.length)&&!!C[j(t)]};var k,F=s("jjCCN"),X=F.default&&F.default.isTypedArray,I=X?(k=X,function(t){return k(t)}):T,D=Object.prototype.hasOwnProperty;var G=function(t,e){var i=M(t),r=!i&&E(t),s=!i&&!r&&(0,B.default)(t),n=!i&&!r&&!s&&I(t),o=i||r||s||n,a=o?l(t.length,String):[],c=a.length;for(var h in t)!e&&!D.call(t,h)||o&&("length"==h||s&&("offset"==h||"parent"==h)||n&&("buffer"==h||"byteLength"==h||"byteOffset"==h)||z(h,c))||a.push(h);return a},U=Object.prototype;var q=function(t,e){return function(i){return t(e(i))}},N=q(Object.keys,Object),R=Object.prototype.hasOwnProperty;var L=function(t){if(i=(e=t)&&e.constructor,e!==("function"==typeof i&&i.prototype||U))return N(t);var e,i,r=[];for(var s in Object(t))R.call(t,s)&&"constructor"!=s&&r.push(s);return r};var Y=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)};var _=function(t){if(!Y(t))return!1;var e=j(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e};var Q=function(t){return null!=(e=t)&&P(e.length)&&!_(e)?G(t):L(t);var e};var W=function(t){return a(null==(e=t)?[]:h(e,Q(e)));var e};const H=new Map([["dark900","#101329"],["dark700","#1b1e32"],["green900","#50fa7b"],["green700","#B1fdc5"],["blue","#6272a4"],["purple","#bd93f9"]]);class ${setVelocity(t,e){this.velocity={x:t,y:e}}setPosition(t,e){this.center.x=t,this.center.y=e}boundary(){return{x1:this.center.x-this.size/2,x2:this.center.x+this.size/2,y1:this.center.y-this.size/2,y2:this.center.y+this.size/2}}update(t){this.center.x+=this.velocity.x*t,this.center.y+=this.velocity.y*t}render(t){t.fillStyle=this.color,t.fillRect(this.center.x-this.size/2,this.center.y-this.size/2,this.size,this.size)}constructor(t,e,i,r){this.center={x:t,y:e},this.size=i,this.color=r,this.velocity={x:0,y:0}}}class J extends ${update(t){this.angle+=this.angularVelocity*t}relocate(t){this.center=t}render(t){t.save(),t.translate(this.center.x,this.center.y),t.rotate(this.angle),t.translate(-this.center.x,-this.center.y),super.render(t),t.restore()}constructor(t,e,i,r){super(t,e,i,r),this.angle=0,this.angularVelocity=360*Math.PI/180}}class K extends ${hide(){this.hidden=!0}randomizeDirection(){Math.random()<.5&&(this.clockwise=!this.clockwise,this.direction.x*=-1,this.direction.y*=-1)}animateColor(t){this.color=t,setTimeout((()=>{this.color=this.defaultColor}),200)}update(t){this.hidden?this.size-=this.size/4:(this.blockCount+=1,this.blockCount%3==0&&this.tail.push({...this.center}),this.tail.length>this.tailLength&&this.tail.shift(),this.center.x+=this.direction.x*(this.velocity.x*t),this.center.y+=this.direction.y*(this.velocity.y*t))}render(t){t.save();let e=.5;const i=this.size/2;this.tail.forEach(((r,s)=>{const n=i/this.tailLength*s;e+=.03,t.globalAlpha=e,t.fillStyle=this.color,t.fillRect(r.x-n/2,r.y-n/2,n,n)})),t.restore(),super.render(t)}changeDirection(){const{x:t,y:e}=this.direction;this.clockwise?(this.direction.x=-1*e,this.direction.y=t):(this.direction.x=e,this.direction.y=-1*t)}registerEvents(){window.onkeydown=t=>{32===t.keyCode&&this.changeDirection()},window.ontouchstart=()=>this.changeDirection()}constructor(t,e,i,r){super(t,e,i,r),this.direction={x:1,y:0},this.clockwise=!1,this.tail=[],this.tailLength=9,this.blockCount=0,this.registerEvents(),this.hidden=!1,this.defaultColor=r}}class Z{push(...t){Array.prototype.unshift.apply(this.objects,t.flat())}pop(t,e=0){return this.objects.splice(t,e)}append(...t){Array.prototype.push.apply(this.objects,t.flat())}objectAt(t){return{...this.objects[t]}}setVelocity(t,e){this.objects.forEach((i=>i.setVelocity(t,e)))}update(t){this.objects.forEach((e=>e.update(t)))}render(t){this.objects.forEach((e=>e.render(t)))}constructor(){this.objects=[]}}class tt extends ${update(t){this.center.x+=this.velocity.x*t,this.center.y+=this.velocity.y*t,this.size-=.05,this.velocity.x*=this.damp,this.velocity.y*=this.damp}constructor(t,e,i,r,s){super(t,e,i,s),this.damp=.97}}class et{create(t){for(let r=0;r<t;r+=1){const t=(e=this.maxSize/8,i=this.maxSize/2,e=Math.ceil(e),i=Math.floor(i),Math.floor(Math.random()*(i-e)+e)),r=new tt(this.position.x,this.position.y,t,this.color),s=(Math.random()-.5)*(Math.random()*this.maxVelocity),n=(Math.random()-.5)*(Math.random()*this.maxVelocity);r.setVelocity(s,n),this.particles.push(r)}var e,i;return this}update(t){this.particles.forEach(((e,i)=>{const r=e;r.size<.5&&this.particles.splice(i,1),r.update(t)}))}render(t){this.particles.forEach((e=>e.render(t)))}isEmpty(){return!!this.particles.length}fire(t){const e=()=>this.particles.length?(this.update(t),new Promise(requestAnimationFrame).then(e)):Promise.resolve();return e()}constructor(t,e,i,r){this.position=t,this.maxVelocity=e,this.maxSize=i,this.color=r,this.particles=[]}}const it=document.getElementById("canvas");it.height=window.innerHeight,it.width=window.innerWidth;new class{setUp(){const t=.5*this.canvas.width,e=t/2,i=this.canvas.width/2,r=this.canvas.height/2;this.outerBox=new $(i,r,t,H.get("dark700")),this.innerBox=new $(i,r,e,H.get("dark900")),this.objectGroup.append(this.outerBox),this.objectGroup.append(this.innerBox),this.generatePositions(),this.player=this.createPlayer(),this.player.setVelocity(this.VX,this.VY),this.objectGroup.append(this.player),this.bait=this.createBait(),this.objectGroup.append(this.bait),this.generateStars()}createPlayer(){const t=this.outerBox.boundary(),e=this.innerBox.boundary(),{x:i,y:r}=this.positions[1],s=(t.y2-e.y2)/2.5;return new K(i,r,s,H.get("green900"))}createBait(){const t=this.outerBox.boundary(),e=this.innerBox.boundary();this.lastPositionIndex=0;const{x:i,y:r}=this.positions[0],s=(t.y2-e.y2)/5;return new J(i,r,s,H.get("purple"))}generatePositions(){const t=this.outerBox.boundary(),e=this.innerBox.boundary(),i=(t.x1+t.x2)/2,r=(t.y2+t.y1)/2,s=(e.x1-t.x1)/2;this.positions=[{x:i,y:t.y1+s},{x:i,y:t.y2-s},{x:t.x1+s,y:r},{x:t.x2-s,y:r}]}generateStars(){const t=this.VX/12,e=this.player.size/10;for(let i=0;i<100;i+=1){const i=Math.random()*this.canvas.width,r=Math.random()*this.canvas.height,s=Math.random()*e,n=Math.random()*t,o=new $(i,r,s,H.get("green700"));o.setVelocity(n,0),this.stars.push(o)}}recsCollide(t,e){const i=t.boundary(),r=e.boundary();return!(i.x2<r.x1||i.y2<r.y1||i.x1>r.x2||i.y1>r.y2)}gameOver(){const t=this.player.boundary(),e=this.outerBox.boundary();return!!(t.x1<e.x1||t.x2>e.x2||t.y1<e.y1||t.y2>e.y2||this.recsCollide(this.player,this.innerBox))}start(){requestAnimationFrame((t=>this.loop(t)))}update(t){if(this.gameOver())this.player.hidden||(this.particles=new et(this.player.center,4*this.VX,this.player.size,this.player.color),this.objectGroup.append(this.particles),this.particles.create(15).fire(t).then((()=>console.log("done")))),this.player.hide(),this.player.update(t);else{if(this.recsCollide(this.player,this.bait)){const{x:t,y:i}=this.bait.center,r=this.positions.filter((e=>!(e.x===t&&e.y===i)));this.bait.relocate((M(e=r)?a:W)(e)),this.player.velocity.x+=.01*this.VX,this.player.velocity.y+=.01*this.VY,this.player.randomizeDirection(),this.player.animateColor(H.get("green700"))}this.objectGroup.update(t)}var e;this.stars.forEach((e=>{const i=e.center;i.x>this.canvas.width&&(i.x=0),e.update(t)}))}render(){this.clearScreen(),this.ctx.save(),this.ctx.translate(this.canvas.width/2,this.canvas.height/2),this.ctx.rotate(Math.PI/180*45),this.ctx.translate(-this.canvas.width/2,-this.canvas.height/2),this.objectGroup.render(this.ctx),this.ctx.restore(),this.stars.forEach((t=>t.render(this.ctx)))}loop(t){let e=0;this.oldTimeStamp||(this.oldTimeStamp=t),e=t-this.oldTimeStamp,this.update(e/1e3),this.render(),this.oldTimeStamp=t,requestAnimationFrame((t=>this.loop(t)))}clearScreen(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)}constructor(t){this.canvas=t,this.VX=.48*t.width,this.VY=.48*t.width,this.MAX_VX=1.5*this.VX,this.MAX_VY=1.5*this.VY,this.ctx=this.canvas.getContext("2d"),this.objectGroup=new Z,this.oldTimeStamp=0,this.particles=null,this.innerBox=null,this.outerBox=null,this.positions=[],this.stars=[],this.setUp()}}(it).start();