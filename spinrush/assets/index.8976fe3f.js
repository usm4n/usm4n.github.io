var yo=Object.defineProperty;var vo=(r,u,a)=>u in r?yo(r,u,{enumerable:!0,configurable:!0,writable:!0,value:a}):r[u]=a;var y=(r,u,a)=>(vo(r,typeof u!="symbol"?u+"":u,a),a);(function(){const u=document.createElement("link").relList;if(u&&u.supports&&u.supports("modulepreload"))return;for(const w of document.querySelectorAll('link[rel="modulepreload"]'))h(w);new MutationObserver(w=>{for(const A of w)if(A.type==="childList")for(const S of A.addedNodes)S.tagName==="LINK"&&S.rel==="modulepreload"&&h(S)}).observe(document,{childList:!0,subtree:!0});function a(w){const A={};return w.integrity&&(A.integrity=w.integrity),w.referrerpolicy&&(A.referrerPolicy=w.referrerpolicy),w.crossorigin==="use-credentials"?A.credentials="include":w.crossorigin==="anonymous"?A.credentials="omit":A.credentials="same-origin",A}function h(w){if(w.ep)return;w.ep=!0;const A=a(w);fetch(w.href,A)}})();var Ur=Object.defineProperty,xo=(r,u,a)=>u in r?Ur(r,u,{enumerable:!0,configurable:!0,writable:!0,value:a}):r[u]=a,s=(r,u)=>Ur(r,"name",{value:u,configurable:!0}),Eo=(r,u)=>{for(var a in u)Ur(r,a,{get:u[a],enumerable:!0})},nt=(r,u,a)=>(xo(r,typeof u!="symbol"?u+"":u,a),a),bo=(()=>{for(var r=new Uint8Array(128),u=0;u<64;u++)r[u<26?u+65:u<52?u+71:u<62?u-4:u*4-205]=u;return a=>{for(var h=a.length,w=new Uint8Array((h-(a[h-1]=="=")-(a[h-2]=="="))*3/4|0),A=0,S=0;A<h;){var T=r[a.charCodeAt(A++)],P=r[a.charCodeAt(A++)],F=r[a.charCodeAt(A++)],I=r[a.charCodeAt(A++)];w[S++]=T<<2|P>>4,w[S++]=P<<4|F>>2,w[S++]=F<<6|I}return w}})();function xt(r){return r*Math.PI/180}s(xt,"deg2rad");function Mr(r){return r*180/Math.PI}s(Mr,"rad2deg");function ot(r,u,a){return u>a?ot(r,a,u):Math.min(Math.max(r,u),a)}s(ot,"clamp");function ae(r,u,a){return r+(u-r)*a}s(ae,"lerp");function Ue(r,u,a,h,w){return h+(r-u)/(a-u)*(w-h)}s(Ue,"map");function Kn(r,u,a,h,w){return ot(Ue(r,u,a,h,w),h,w)}s(Kn,"mapc");var W=class{constructor(r=0,u=r){y(this,"x",0);y(this,"y",0);this.x=r,this.y=u}static fromAngle(r){let u=xt(r);return new W(Math.cos(u),Math.sin(u))}clone(){return new W(this.x,this.y)}add(...r){let u=m(...r);return new W(this.x+u.x,this.y+u.y)}sub(...r){let u=m(...r);return new W(this.x-u.x,this.y-u.y)}scale(...r){let u=m(...r);return new W(this.x*u.x,this.y*u.y)}dist(...r){let u=m(...r);return Math.sqrt((this.x-u.x)*(this.x-u.x)+(this.y-u.y)*(this.y-u.y))}len(){return this.dist(new W(0,0))}unit(){let r=this.len();return r===0?new W(0):this.scale(1/r)}normal(){return new W(this.y,-this.x)}dot(r){return this.x*r.x+this.y*r.y}angle(...r){let u=m(...r);return Mr(Math.atan2(this.y-u.y,this.x-u.x))}lerp(r,u){return new W(ae(this.x,r.x,u),ae(this.y,r.y,u))}isZero(){return this.x===0&&this.y===0}toFixed(r){return new W(Number(this.x.toFixed(r)),Number(this.y.toFixed(r)))}eq(r){return this.x===r.x&&this.y===r.y}toString(){return`vec2(${this.x.toFixed(2)}, ${this.y.toFixed(2)})`}},L=W;s(L,"Vec2"),nt(L,"LEFT",new W(-1,0)),nt(L,"RIGHT",new W(1,0)),nt(L,"UP",new W(0,-1)),nt(L,"DOWN",new W(0,1));function m(...r){if(r.length===1){if(r[0]instanceof L)return m(r[0].x,r[0].y);if(Array.isArray(r[0])&&r[0].length===2)return m(...r[0])}return new L(...r)}s(m,"vec2");var Br=class{constructor(r,u,a){y(this,"x",0);y(this,"y",0);y(this,"z",0);this.x=r,this.y=u,this.z=a}xy(){return m(this.x,this.y)}};s(Br,"Vec3");var Dt=s((r,u,a)=>new Br(r,u,a),"vec3"),pt=class{constructor(r,u,a){y(this,"r",255);y(this,"g",255);y(this,"b",255);this.r=ot(r,0,255),this.g=ot(u,0,255),this.b=ot(a,0,255)}static fromArray(r){return new pt(r[0],r[1],r[2])}static fromHex(r){if(typeof r=="number")return new pt(r>>16&255,r>>8&255,r>>0&255);{let u=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(r);return new pt(parseInt(u[1],16),parseInt(u[2],16),parseInt(u[3],16))}}static fromHSL(r,u,a){if(u==0)return R(255*a,255*a,255*a);let h=s((F,I,x)=>(x<0&&(x+=1),x>1&&(x-=1),x<1/6?F+(I-F)*6*x:x<1/2?I:x<2/3?F+(I-F)*(2/3-x)*6:F),"hue2rgb"),w=a<.5?a*(1+u):a+u-a*u,A=2*a-w,S=h(A,w,r+1/3),T=h(A,w,r),P=h(A,w,r-1/3);return new pt(Math.round(S*255),Math.round(T*255),Math.round(P*255))}clone(){return new pt(this.r,this.g,this.b)}lighten(r){return new pt(this.r+r,this.g+r,this.b+r)}darken(r){return this.lighten(-r)}invert(){return new pt(255-this.r,255-this.g,255-this.b)}mult(r){return new pt(this.r*r.r/255,this.g*r.g/255,this.b*r.b/255)}eq(r){return this.r===r.r&&this.g===r.g&&this.b===r.b}toString(){return`rgb(${this.r}, ${this.g}, ${this.b})`}toHex(){return"#"+((1<<24)+(this.r<<16)+(this.g<<8)+this.b).toString(16).slice(1)}},U=pt;s(U,"Color"),nt(U,"RED",R(255,0,0)),nt(U,"GREEN",R(0,255,0)),nt(U,"BLUE",R(0,0,255)),nt(U,"YELLOW",R(255,255,0)),nt(U,"MAGENTA",R(255,0,255)),nt(U,"CYAN",R(0,255,255)),nt(U,"WHITE",R(255,255,255)),nt(U,"BLACK",R(0,0,0));function R(...r){if(r.length===0)return new U(255,255,255);if(r.length===1){if(r[0]instanceof U)return r[0].clone();if(Array.isArray(r[0])&&r[0].length===3)return U.fromArray(r[0])}return new U(...r)}s(R,"rgb");var Ro=s((r,u,a)=>U.fromHSL(r,u,a),"hsl2rgb"),Q=class{constructor(r,u,a,h){y(this,"x",0);y(this,"y",0);y(this,"w",1);y(this,"h",1);this.x=r,this.y=u,this.w=a,this.h=h}scale(r){return new Q(this.x+this.w*r.x,this.y+this.h*r.y,this.w*r.w,this.h*r.h)}clone(){return new Q(this.x,this.y,this.w,this.h)}eq(r){return this.x===r.x&&this.y===r.y&&this.w===r.w&&this.h===r.h}toString(){return`quad(${this.x}, ${this.y}, ${this.w}, ${this.h})`}};s(Q,"Quad");function zn(r,u,a,h){return new Q(r,u,a,h)}s(zn,"quad");var B=class{constructor(r){y(this,"m",[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);r&&(this.m=r)}static translate(r){return new B([1,0,0,0,0,1,0,0,0,0,1,0,r.x,r.y,0,1])}static scale(r){return new B([r.x,0,0,0,0,r.y,0,0,0,0,1,0,0,0,0,1])}static rotateX(r){return r=xt(-r),new B([1,0,0,0,0,Math.cos(r),-Math.sin(r),0,0,Math.sin(r),Math.cos(r),0,0,0,0,1])}static rotateY(r){return r=xt(-r),new B([Math.cos(r),0,Math.sin(r),0,0,1,0,0,-Math.sin(r),0,Math.cos(r),0,0,0,0,1])}static rotateZ(r){return r=xt(-r),new B([Math.cos(r),-Math.sin(r),0,0,Math.sin(r),Math.cos(r),0,0,0,0,1,0,0,0,0,1])}translate(r){return this.mult(B.translate(r))}scale(r){return this.mult(B.scale(r))}rotateX(r){return this.mult(B.rotateX(r))}rotateY(r){return this.mult(B.rotateY(r))}rotateZ(r){return this.mult(B.rotateZ(r))}mult(r){let u=[];for(let a=0;a<4;a++)for(let h=0;h<4;h++)u[a*4+h]=this.m[0*4+h]*r.m[a*4+0]+this.m[1*4+h]*r.m[a*4+1]+this.m[2*4+h]*r.m[a*4+2]+this.m[3*4+h]*r.m[a*4+3];return new B(u)}multVec4(r){return{x:r.x*this.m[0]+r.y*this.m[4]+r.z*this.m[8]+r.w*this.m[12],y:r.x*this.m[1]+r.y*this.m[5]+r.z*this.m[9]+r.w*this.m[13],z:r.x*this.m[2]+r.y*this.m[6]+r.z*this.m[10]+r.w*this.m[14],w:r.x*this.m[3]+r.y*this.m[7]+r.z*this.m[11]+r.w*this.m[15]}}multVec3(r){let u=this.multVec4({x:r.x,y:r.y,z:r.z,w:1});return Dt(u.x,u.y,u.z)}multVec2(r){return m(r.x*this.m[0]+r.y*this.m[4]+0*this.m[8]+1*this.m[12],r.x*this.m[1]+r.y*this.m[5]+0*this.m[9]+1*this.m[13])}invert(){let r=[],u=this.m[10]*this.m[15]-this.m[14]*this.m[11],a=this.m[9]*this.m[15]-this.m[13]*this.m[11],h=this.m[9]*this.m[14]-this.m[13]*this.m[10],w=this.m[8]*this.m[15]-this.m[12]*this.m[11],A=this.m[8]*this.m[14]-this.m[12]*this.m[10],S=this.m[8]*this.m[13]-this.m[12]*this.m[9],T=this.m[6]*this.m[15]-this.m[14]*this.m[7],P=this.m[5]*this.m[15]-this.m[13]*this.m[7],F=this.m[5]*this.m[14]-this.m[13]*this.m[6],I=this.m[4]*this.m[15]-this.m[12]*this.m[7],x=this.m[4]*this.m[14]-this.m[12]*this.m[6],V=this.m[5]*this.m[15]-this.m[13]*this.m[7],q=this.m[4]*this.m[13]-this.m[12]*this.m[5],k=this.m[6]*this.m[11]-this.m[10]*this.m[7],Y=this.m[5]*this.m[11]-this.m[9]*this.m[7],Z=this.m[5]*this.m[10]-this.m[9]*this.m[6],J=this.m[4]*this.m[11]-this.m[8]*this.m[7],st=this.m[4]*this.m[10]-this.m[8]*this.m[6],Et=this.m[4]*this.m[9]-this.m[8]*this.m[5];r[0]=this.m[5]*u-this.m[6]*a+this.m[7]*h,r[4]=-(this.m[4]*u-this.m[6]*w+this.m[7]*A),r[8]=this.m[4]*a-this.m[5]*w+this.m[7]*S,r[12]=-(this.m[4]*h-this.m[5]*A+this.m[6]*S),r[1]=-(this.m[1]*u-this.m[2]*a+this.m[3]*h),r[5]=this.m[0]*u-this.m[2]*w+this.m[3]*A,r[9]=-(this.m[0]*a-this.m[1]*w+this.m[3]*S),r[13]=this.m[0]*h-this.m[1]*A+this.m[2]*S,r[2]=this.m[1]*T-this.m[2]*P+this.m[3]*F,r[6]=-(this.m[0]*T-this.m[2]*I+this.m[3]*x),r[10]=this.m[0]*V-this.m[1]*I+this.m[3]*q,r[14]=-(this.m[0]*F-this.m[1]*x+this.m[2]*q),r[3]=-(this.m[1]*k-this.m[2]*Y+this.m[3]*Z),r[7]=this.m[0]*k-this.m[2]*J+this.m[3]*st,r[11]=-(this.m[0]*Y-this.m[1]*J+this.m[3]*Et),r[15]=this.m[0]*Z-this.m[1]*st+this.m[2]*Et;let gt=this.m[0]*r[0]+this.m[1]*r[4]+this.m[2]*r[8]+this.m[3]*r[12];for(let ct=0;ct<4;ct++)for(let bt=0;bt<4;bt++)r[ct*4+bt]*=1/gt;return new B(r)}clone(){return new B(this.m)}toString(){return this.m.toString()}};s(B,"Mat4");function Sr(r,u,a,h=Math.sin){return r+(h(a)+1)/2*(u-r)}s(Sr,"wave");var So=1103515245,To=12345,Tn=2147483648,Ir=class{constructor(r){y(this,"seed");this.seed=r}gen(){return this.seed=(So*this.seed+To)%Tn,this.seed/Tn}genNumber(r,u){return r+this.gen()*(u-r)}genVec2(r,u){return new L(this.genNumber(r.x,u.x),this.genNumber(r.y,u.y))}genColor(r,u){return new U(this.genNumber(r.r,u.r),this.genNumber(r.g,u.g),this.genNumber(r.b,u.b))}genAny(...r){if(r.length===0)return this.gen();if(r.length===1){if(typeof r[0]=="number")return this.genNumber(0,r[0]);if(r[0]instanceof L)return this.genVec2(m(0,0),r[0]);if(r[0]instanceof U)return this.genColor(R(0,0,0),r[0])}else if(r.length===2){if(typeof r[0]=="number"&&typeof r[1]=="number")return this.genNumber(r[0],r[1]);if(r[0]instanceof L&&r[1]instanceof L)return this.genVec2(r[0],r[1]);if(r[0]instanceof U&&r[1]instanceof U)return this.genColor(r[0],r[1])}}};s(Ir,"RNG");var Tr=new Ir(Date.now());function qn(r){return r!=null&&(Tr.seed=r),Tr.seed}s(qn,"randSeed");function ue(...r){return Tr.genAny(...r)}s(ue,"rand");function Dr(...r){return Math.floor(ue(...r))}s(Dr,"randi");function Yn(r){return ue()<=r}s(Yn,"chance");function On(r){return r[Dr(r.length)]}s(On,"choose");function Gn(r,u){return r.pos.x+r.width>=u.pos.x&&r.pos.x<=u.pos.x+u.width&&r.pos.y+r.height>=u.pos.y&&r.pos.y<=u.pos.y+u.height}s(Gn,"testRectRect2");function Xn(r,u){return r.pos.x+r.width>u.pos.x&&r.pos.x<u.pos.x+u.width&&r.pos.y+r.height>u.pos.y&&r.pos.y<u.pos.y+u.height}s(Xn,"testRectRect");function Qn(r,u){if(r.p1.x===r.p2.x&&r.p1.y===r.p2.y||u.p1.x===u.p2.x&&u.p1.y===u.p2.y)return null;let a=(u.p2.y-u.p1.y)*(r.p2.x-r.p1.x)-(u.p2.x-u.p1.x)*(r.p2.y-r.p1.y);if(a===0)return null;let h=((u.p2.x-u.p1.x)*(r.p1.y-u.p1.y)-(u.p2.y-u.p1.y)*(r.p1.x-u.p1.x))/a,w=((r.p2.x-r.p1.x)*(r.p1.y-u.p1.y)-(r.p2.y-r.p1.y)*(r.p1.x-u.p1.x))/a;return h<0||h>1||w<0||w>1?null:h}s(Qn,"testLineLineT");function Zt(r,u){let a=Qn(r,u);return a?m(r.p1.x+a*(r.p2.x-r.p1.x),r.p1.y+a*(r.p2.y-r.p1.y)):null}s(Zt,"testLineLine");function Zn(r,u){if(he(r,mt.fromVec2(u.p1))||he(r,mt.fromVec2(u.p2)))return!0;let a=r.points();return!!Zt(u,new Nt(a[0],a[1]))||!!Zt(u,new Nt(a[1],a[2]))||!!Zt(u,new Nt(a[2],a[3]))||!!Zt(u,new Nt(a[3],a[0]))}s(Zn,"testRectLine");function he(r,u){return u.x>r.pos.x&&u.x<r.pos.x+r.width&&u.y>r.pos.y&&u.y<r.pos.y+r.height}s(he,"testRectPoint");function jn(r,u){return r.center.dist(u.toVec2())<r.radius}s(jn,"testCirclePoint");function Wn(r,u){let a=!1,h=r.pts;for(let w=0,A=h.length-1;w<h.length;A=w++)h[w].y>u.y!=h[A].y>u.y&&u.x<(h[A].x-h[w].x)*(u.y-h[w].y)/(h[A].y-h[w].y)+h[w].x&&(a=!a);return a}s(Wn,"testPolygonPoint");var Nt=class{constructor(r,u){y(this,"p1");y(this,"p2");this.p1=r,this.p2=u}transform(r){return new Nt(r.multVec2(this.p1),r.multVec2(this.p2))}bbox(){return O.fromPoints(this.p1,this.p2)}};s(Nt,"Line");var O=class{constructor(r,u,a){y(this,"pos");y(this,"width");y(this,"height");this.pos=r,this.width=u,this.height=a}static fromPoints(r,u){return new O(r.clone(),u.x-r.x,u.y-r.y)}center(){return new L(this.pos.x+this.width/2,this.pos.y+this.height/2)}points(){return[this.pos,this.pos.add(this.width,0),this.pos.add(this.width,this.height),this.pos.add(0,this.height)]}transform(r){return new Wt(this.points().map(u=>r.multVec2(u)))}bbox(){return new O(this.pos.clone(),this.width,this.height)}};s(O,"Rect");var oe=class{constructor(r,u){y(this,"center");y(this,"radius");this.center=r,this.radius=u}transform(r){return new Nr(this.center,this.radius,this.radius).transform(r)}bbox(){return O.fromPoints(this.center.sub(m(this.radius)),this.center.add(m(this.radius)))}};s(oe,"Circle");var Nr=class{constructor(r,u,a){y(this,"center");y(this,"radiusX");y(this,"radiusY");this.center=r,this.radiusX=u,this.radiusY=a}transform(r){return new Nr(r.multVec2(this.center),r.m[0]*this.radiusX,r.m[5]*this.radiusY)}bbox(){return O.fromPoints(this.center.sub(m(this.radiusX,this.radiusY)),this.center.add(m(this.radiusX,this.radiusY)))}};s(Nr,"Ellipse");var Wt=class{constructor(r){y(this,"pts");if(r.length<3)throw new Error("Polygons should have at least 3 vertices");this.pts=r}transform(r){return new Wt(this.pts.map(u=>r.multVec2(u)))}bbox(){let r=m(Number.MAX_VALUE),u=m(-Number.MAX_VALUE);for(let a of this.pts)r.x=Math.min(r.x,a.x),u.x=Math.max(u.x,a.x),r.y=Math.min(r.y,a.y),u.y=Math.max(u.y,a.y);return O.fromPoints(r,u)}};s(Wt,"Polygon");var mt=class{constructor(r,u){y(this,"x");y(this,"y");this.x=r,this.y=u}static fromVec2(r){return new mt(r.x,r.y)}toVec2(){return new L(this.x,this.y)}transform(r){return mt.fromVec2(r.multVec2(this.toVec2()))}bbox(){return new O(this.toVec2(),0,0)}};s(mt,"Point");function Jn(r,u){let a=Number.MAX_VALUE,h=m(0);for(let w of[r,u])for(let A=0;A<w.pts.length;A++){let S=w.pts[A],T=w.pts[(A+1)%w.pts.length].sub(S).normal().unit(),P=Number.MAX_VALUE,F=-Number.MAX_VALUE;for(let q=0;q<r.pts.length;q++){let k=r.pts[q].dot(T);P=Math.min(P,k),F=Math.max(F,k)}let I=Number.MAX_VALUE,x=-Number.MAX_VALUE;for(let q=0;q<u.pts.length;q++){let k=u.pts[q].dot(T);I=Math.min(I,k),x=Math.max(x,k)}let V=Math.min(F,x)-Math.max(P,I);if(V<0)return null;if(V<Math.abs(a)){let q=x-P,k=I-F;a=Math.abs(q)<Math.abs(k)?q:k,h=T.scale(a)}}return h}s(Jn,"sat");var jt=class extends Map{constructor(...u){super(...u);y(this,"lastID");this.lastID=0}push(u){let a=this.lastID;return this.set(a,u),this.lastID++,a}pushd(u){let a=this.push(u);return()=>this.delete(a)}};s(jt,"IDList");var At=class{constructor(){y(this,"handlers",new jt)}add(r){return this.handlers.pushd(r)}addOnce(r){let u=this.add((...a)=>{r(...a),u()});return u}trigger(...r){this.handlers.forEach(u=>u(...r))}numListeners(){return this.handlers.size}};s(At,"Event");var Xt=class{constructor(){y(this,"handlers",new Map)}on(r,u){return this.handlers.get(r)||this.handlers.set(r,new At),this.handlers.get(r).add(u)}onOnce(r,u){let a=this.on(r,(...h)=>{u(...h),a()});return a}trigger(r,...u){this.handlers.get(r)&&this.handlers.get(r).trigger(...u)}remove(r){this.handlers.delete(r)}clear(){this.handlers=new Map}numListeners(r){var u,a;return(a=(u=this.handlers.get(r))==null?void 0:u.numListeners())!=null?a:0}};s(Xt,"EventHandler");function kr(r,u){let a=typeof r,h=typeof u;if(a!==h)return!1;if(a==="object"&&h==="object"){let w=Object.keys(r),A=Object.keys(u);if(w.length!==A.length)return!1;for(let S of w){let T=r[S],P=u[S];if(!(typeof T=="function"&&typeof P=="function")&&!kr(T,P))return!1}return!0}return r===u}s(kr,"deepEq");function Hn(r){let u=window.atob(r),a=u.length,h=new Uint8Array(a);for(let w=0;w<a;w++)h[w]=u.charCodeAt(w);return h.buffer}s(Hn,"base64ToArrayBuffer");function _n(r){return Hn(r.split(",")[1])}s(_n,"dataURLToArrayBuffer");function Me(r,u){let a=document.createElement("a");a.href=u,a.download=r,a.click()}s(Me,"download");function Cr(r,u){Me(r,"data:text/plain;charset=utf-8,"+u)}s(Cr,"downloadText");function $n(r,u){Cr(r,JSON.stringify(u))}s($n,"downloadJSON");function Pr(r,u){let a=URL.createObjectURL(u);Me(r,a),URL.revokeObjectURL(a)}s(Pr,"downloadBlob");function Fr(r){return r.match(/^data:\w+\/\w+;base64,.+/)}s(Fr,"isDataURL");var Po=(()=>{let r=0;return()=>r++})(),to=class{constructor(){y(this,"dts",[]);y(this,"timer",0);y(this,"fps",0)}tick(r){this.dts.push(r),this.timer+=r,this.timer>=1&&(this.timer=0,this.fps=Math.round(1/(this.dts.reduce((u,a)=>u+a)/this.dts.length)),this.dts=[])}};s(to,"FPSCounter");var se=class{constructor(r,u){y(this,"time");y(this,"action");y(this,"finished",!1);y(this,"paused",!1);this.time=r,this.action=u}tick(r){return this.finished||this.paused?!1:(this.time-=r,this.time<=0?(this.action(),this.finished=!0,this.time=0,!0):!1)}reset(r){this.time=r,this.finished=!1}};s(se,"Timer");var Fo="data:image/png;base64,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",Uo="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAD0AAAA1CAYAAADyMeOEAAAAAXNSR0IArs4c6QAAAoVJREFUaIHdm7txwkAQhheGAqACiCHzOKQDQrqgILpwSAeEDBnEUAF0gCMxZ7G72qce/mec2Lpf9+3unaS78wgSNZ8uX5729+d1FNWXUuGmXlBOUUEIMckEpeQJgBu6C+BSFngztBR2vd+ovY+7g+p6LbgaWgJrAeUkDYIUXgXdBBwNi6kpABJwMTQH3AZsXRR8GHTfgEth8E3gjdAUcNewpbTgY85sCMCUuOokozE0YM0YRzM9NGAAXd8+omAF5h4lnmBRvpSnZHyLoLEbaN+aKB9KWv/KWw0tAbbANnlG+UvB2dm77NxxdwgBpjrF/d7rW9cbmpvio2A5z8iAYpVU8pGZlo6/2+MSco2lHfd3rv9jAP038e1xef9o2mjvYb2OqpqKE81028/jeietlSEVO5FRWsxWsJit1G3aFpW8iWe5RwpiCZAk25QvV6nz6fIlynRGuTd5WqpJ4guAlDfVKBK87hXljflgv1ON6fV+4+5gVlA17SfeG0heKqQd4l4jI/wrmaA9N9R4ar+wpHJDZyrrfcH0nB66PqAzPi76pn+faSyJk/vzOorYhGurQrzj/P68jtBMawHaHBIR9xoD5O34dy0qQOSYHvqExq2TpT2nf76+w7y251OYF0CRaU+J920TwLUa6inx6OxE6g80lu2ux7Y2eJLF/rCXE6zEPdnenk9o+4ih9AEdnW2q81HXl5LuU6OTl2fXUhqganbXAGq3g6jJOWV/OnoesO6YqqEB/GdNsjf7uHtwj2DzmRNpp7iOZfm6D9oAxB6Yi1gC4oIYeo4MIPdopEQRB+cAko5J1tW386HpB2Kz1eop4Epdwls/kgZ1sh8gZsEjdcWkr//D8Qu3Z3l5Nl1NtAAAAABJRU5ErkJggg==",Mo={};Eo(Mo,{default:()=>eo});var eo=bo("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L5QNSqT5iiySS9Ja2SV//5ME0ak//+4KgAAABgQBAADAMDgYCAEgCteQ0fZH6+ICXA357+MPfhR/+ywRf/U///LVTEFNRTMuMTAwVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+5JknQAFoWhGLm5gBClBmT3GiAAAAAGkHAAAIAAANIOAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV"),Bo="data:image/png;base64,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",Io="data:image/png;base64,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",Do="3000.0.0-alpha.0",Pn={ArrowLeft:"left",ArrowRight:"right",ArrowUp:"up",ArrowDown:"down"," ":"space"},Fn=["left","middle","right","back","forward"],No=["space","left","right","up","down","tab","f1","f2","f3","f4","f5","f6","f7","f8","f9","f10","f11","s"],Un=" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",Mn=0,Bn=3,ko=0,Co=3,Lo=-1200,Ko=1200,be="topleft",In=64,zo="happy",Re="monospace",qo=36,Dn=64,Se=1024,Nn=.1,Yo=1,ro=[{name:"a_pos",size:3},{name:"a_uv",size:2},{name:"a_color",size:4}],Te=ro.reduce((r,u)=>r+u.size,0),io=2048,kn=io*4*Te,Cn=io*6,Oo=`
attribute vec3 a_pos;
attribute vec2 a_uv;
attribute vec4 a_color;

varying vec3 v_pos;
varying vec2 v_uv;
varying vec4 v_color;

vec4 def_vert() {
	return vec4(a_pos, 1.0);
}

{{user}}

void main() {
	vec4 pos = vert(a_pos, a_uv, a_color);
	v_pos = a_pos;
	v_uv = a_uv;
	v_color = a_color;
	gl_Position = pos;
}
`,Go=`
precision mediump float;

varying vec3 v_pos;
varying vec2 v_uv;
varying vec4 v_color;

uniform sampler2D u_tex;

vec4 def_frag() {
	return v_color * texture2D(u_tex, v_uv);
}

{{user}}

void main() {
	gl_FragColor = frag(v_pos, v_uv, v_color, u_tex);
	if (gl_FragColor.a == 0.0) {
		discard;
	}
}
`,br=`
vec4 vert(vec3 pos, vec2 uv, vec4 color) {
	return def_vert();
}
`,Rr=`
vec4 frag(vec3 pos, vec2 uv, vec4 color, sampler2D tex) {
	return def_frag();
}
`,Xo=new Set(["id","require"]),Qo=new Set(["add","update","draw","destroy","inspect","drawInspect"]);function Pe(r){return r==="pressed"||r==="rpressed"?"down":r==="released"?"up":r}s(Pe,"processButtonState");function no(r){r.requestFullscreen?r.requestFullscreen():r.webkitRequestFullscreen&&r.webkitRequestFullscreen()}s(no,"enterFullscreen");function oo(){document.exitFullscreen?document.exitFullscreen():document.webkitExitFullScreen&&document.webkitExitFullScreen()}s(oo,"exitFullscreen");function so(){return document.fullscreenElement||document.webkitFullscreenElement}s(so,"getFullscreenElement");function Qt(r){switch(r){case"topleft":return m(-1,-1);case"top":return m(0,-1);case"topright":return m(1,-1);case"left":return m(-1,0);case"center":return m(0,0);case"right":return m(1,0);case"botleft":return m(-1,1);case"bot":return m(0,1);case"botright":return m(1,1);default:return r}}s(Qt,"anchorPt");function ao(r){switch(r){case"left":return 0;case"center":return .5;case"right":return 1;default:return 0}}s(ao,"alignPt");function Fe(){return new AudioBuffer({length:1,numberOfChannels:1,sampleRate:44100})}s(Fe,"createEmptyAudioBuffer");var Zo=s((r={})=>{let u=[],a=(()=>{var g,E,v;let t=(g=r.root)!=null?g:document.body;t===document.body&&(document.body.style.width="100%",document.body.style.height="100%",document.body.style.margin="0px",document.documentElement.style.width="100%",document.documentElement.style.height="100%");let e=(E=r.canvas)!=null?E:(()=>{let b=document.createElement("canvas");return t.appendChild(b),b})(),i=(v=r.scale)!=null?v:1,n=!(r.width&&r.height&&!r.stretch&&!r.letterbox),c=e.parentElement.offsetWidth,o=e.parentElement.offsetHeight;n?(e.width=c,e.height=o):(e.width=r.width*i,e.height=r.height*i);let d=e.width,l=e.height,f=r.pixelDensity||window.devicePixelRatio;e.width*=f,e.height*=f;let p=[`width: ${d}px`,`height: ${l}px`,"outline: none","cursor: default"];return r.crisp&&(p.push("image-rendering: pixelated"),p.push("image-rendering: crisp-edges")),e.style.cssText=p.join(";"),e.tabIndex=0,{canvas:e,canvas2:e.cloneNode(),pixelDensity:f,stretchToParent:n,lastParentWidth:c,lastParentHeight:o,keyStates:{},mouseStates:{},virtualButtonStates:{},charInputted:[],numKeyDown:0,isMouseMoved:!1,isKeyPressed:!1,isKeyPressedRepeat:!1,isKeyReleased:!1,mouseStarted:!1,mousePos:m(0,0),mouseDeltaPos:m(0,0),time:0,realTime:0,skipTime:!1,dt:0,numFrames:0,isTouch:"ontouchstart"in window||navigator.maxTouchPoints>0,loopID:null,stopped:!1,paused:!1,fpsCounter:new to}})(),h=a.canvas.getContext("webgl",{antialias:!0,depth:!0,stencil:!0,alpha:!0,preserveDrawingBuffer:!0});class w{constructor(e,i,n={}){y(this,"glTex");y(this,"width");y(this,"height");this.glTex=h.createTexture(),u.push(()=>this.free()),this.bind(),e&&i&&h.texImage2D(h.TEXTURE_2D,0,h.RGBA,e,i,0,h.RGBA,h.UNSIGNED_BYTE,null),this.width=e,this.height=i;let c=(()=>{var d;switch((d=n.filter)!=null?d:r.texFilter){case"linear":return h.LINEAR;case"nearest":return h.NEAREST;default:return h.NEAREST}})(),o=(()=>{switch(n.wrap){case"repeat":return h.REPEAT;case"clampToEdge":return h.CLAMP_TO_EDGE;default:return h.CLAMP_TO_EDGE}})();h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MIN_FILTER,c),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MAG_FILTER,c),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_S,o),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_T,o),this.unbind()}static fromImage(e,i={}){let n=new w(0,0,i);return n.bind(),h.texImage2D(h.TEXTURE_2D,0,h.RGBA,h.RGBA,h.UNSIGNED_BYTE,e),n.width=e.width,n.height=e.height,n.unbind(),n}update(e,i,n){this.bind(),h.texSubImage2D(h.TEXTURE_2D,0,e,i,h.RGBA,h.UNSIGNED_BYTE,n),this.unbind()}bind(){h.bindTexture(h.TEXTURE_2D,this.glTex)}unbind(){h.bindTexture(h.TEXTURE_2D,null)}free(){h.deleteTexture(this.glTex)}}s(w,"Texture");let A=(()=>{var o;let t=le(br,Rr),e=w.fromImage(new ImageData(new Uint8ClampedArray([255,255,255,255]),1,1));if(r.background){let d=U.fromArray(r.background);h.clearColor(d.r/255,d.g/255,d.b/255,(o=r.background[3])!=null?o:1)}h.enable(h.BLEND),h.enable(h.SCISSOR_TEST),h.blendFuncSeparate(h.SRC_ALPHA,h.ONE_MINUS_SRC_ALPHA,h.ONE,h.ONE_MINUS_SRC_ALPHA);let i=h.createBuffer();h.bindBuffer(h.ARRAY_BUFFER,i),h.bufferData(h.ARRAY_BUFFER,kn*4,h.DYNAMIC_DRAW),ro.reduce((d,l,f)=>(h.vertexAttribPointer(f,l.size,h.FLOAT,!1,Te*4,d),h.enableVertexAttribArray(f),d+l.size*4),0),h.bindBuffer(h.ARRAY_BUFFER,null);let n=h.createBuffer();h.bindBuffer(h.ELEMENT_ARRAY_BUFFER,n),h.bufferData(h.ELEMENT_ARRAY_BUFFER,Cn*4,h.DYNAMIC_DRAW),h.bindBuffer(h.ELEMENT_ARRAY_BUFFER,null);let c=w.fromImage(new ImageData(new Uint8ClampedArray([128,128,128,255,190,190,190,255,190,190,190,255,128,128,128,255]),2,2),{wrap:"repeat",filter:"nearest"});return{drawCalls:0,lastDrawCalls:0,defShader:t,curShader:t,defTex:e,curTex:e,curUniform:{},vbuf:i,ibuf:n,vqueue:[],iqueue:[],transform:new B,transformStack:[],bgTex:c,width:r.width,height:r.height,viewport:{x:0,y:0,width:h.drawingBufferWidth,height:h.drawingBufferHeight}}})();class S{constructor(e,i,n={}){y(this,"tex");y(this,"frames",[new Q(0,0,1,1)]);y(this,"anims",{});this.tex=e,i&&(this.frames=i),this.anims=n}static from(e,i={}){return typeof e=="string"?S.fromURL(e,i):Promise.resolve(S.fromImage(e,i))}static fromImage(e,i={}){var n;return new S(w.fromImage(e,i),Be(i.sliceX||1,i.sliceY||1),(n=i.anims)!=null?n:{})}static fromURL(e,i={}){return gt(e).then(n=>S.fromImage(n,i))}}s(S,"SpriteData");class T{constructor(e){y(this,"buf");this.buf=e}static fromArrayBuffer(e){return new Promise((i,n)=>P.ctx.decodeAudioData(e,i,n)).then(i=>new T(i))}static fromURL(e){return Fr(e)?T.fromArrayBuffer(_n(e)):Et(e).then(i=>T.fromArrayBuffer(i))}}s(T,"SoundData");let P=(()=>{let t=new(window.AudioContext||window.webkitAudioContext),e=t.createGain();e.connect(t.destination);let i=new T(Fe());return t.decodeAudioData(eo.buffer.slice(0)).then(n=>{i.buf=n}).catch(n=>{console.error("Failed to load burp: ",n)}),{ctx:t,masterNode:e,burpSnd:i}})();class F{constructor(e){y(this,"done",!1);y(this,"data",null);y(this,"error",null);y(this,"onLoadEvents",new At);y(this,"onErrorEvents",new At);y(this,"onFinishEvents",new At);e.then(i=>{this.data=i,this.onLoadEvents.trigger(i)}).catch(i=>{if(this.error=i,this.onErrorEvents.numListeners()>0)this.onErrorEvents.trigger(i);else throw i}).finally(()=>{this.onFinishEvents.trigger(),this.done=!0})}static loaded(e){let i=new F(Promise.resolve(e));return i.data=e,i.done=!0,i}onLoad(e){return this.onLoadEvents.add(e),this}onError(e){return this.onErrorEvents.add(e),this}onFinish(e){return this.onFinishEvents.add(e),this}then(e){return this.onLoad(e)}catch(e){return this.onError(e)}finally(e){return this.onFinish(e)}}s(F,"Asset");class I{constructor(){y(this,"assets",new Map);y(this,"lastUID",0)}add(e,i){let n=e!=null?e:this.lastUID+++"",c=new F(i);return this.assets.set(n,c),c}addLoaded(e,i){let n=e!=null?e:this.lastUID+++"",c=F.loaded(i);this.assets.set(n,c)}get(e){return this.assets.get(e)}progress(){if(this.assets.size===0)return 1;let e=0;return this.assets.forEach(i=>{i.done&&e++}),e/this.assets.size}}s(I,"AssetBucket");let x={urlPrefix:"",sprites:new I,fonts:new I,bitmapFonts:new I,sounds:new I,shaders:new I,custom:new I,loaded:!1},V={ev:new Xt,objEvents:new Xt,root:ge([]),timers:new jt,gravity:0,scenes:{},logs:[],cam:{pos:null,scale:m(1),angle:0,shake:0,transform:new B}};function q(t){return x.custom.add(null,t)}s(q,"load");function k(){let t=[x.sprites,x.sounds,x.shaders,x.fonts,x.bitmapFonts,x.custom];return t.reduce((e,i)=>e+i.progress(),0)/t.length}s(k,"loadProgress");function Y(t){return t!==void 0&&(x.urlPrefix=t),x.urlPrefix}s(Y,"loadRoot");function Z(t){let e=x.urlPrefix+t;return fetch(e).then(i=>{if(!i.ok)throw new Error(`Failed to fetch ${e}`);return i})}s(Z,"fetchURL");function J(t){return Z(t).then(e=>e.json())}s(J,"fetchJSON");function st(t){return Z(t).then(e=>e.text())}s(st,"fetchText");function Et(t){return Z(t).then(e=>e.arrayBuffer())}s(Et,"fetchArrayBuffer");function gt(t){let e=new Image;return e.src=Fr(t)?t:x.urlPrefix+t,e.crossOrigin="anonymous",new Promise((i,n)=>{e.onload=()=>i(e),e.onerror=()=>n(new Error(`Failed to load image from "${t}"`))})}s(gt,"loadImg");function ct(t,e){let i=new FontFace(t,typeof e=="string"?`url(${e})`:e);return document.fonts.add(i),x.fonts.add(t,i.load().catch(()=>{throw new Error(`Failed to load font from "${e}"`)}))}s(ct,"loadFont");function bt(t,e,i,n,c={}){return x.bitmapFonts.add(t,gt(e).then(o=>{var d;return Zr(w.fromImage(o,c),i,n,(d=c.chars)!=null?d:Un)}))}s(bt,"loadBitmapFont");function Be(t=1,e=1,i=0,n=0,c=1,o=1){let d=[],l=c/t,f=o/e;for(let p=0;p<e;p++)for(let g=0;g<t;g++)d.push(new Q(i+g*l,n+p*f,l,f));return d}s(Be,"slice");function Ie(t,e){return q(typeof e=="string"?new Promise((i,n)=>{J(e).then(c=>{Ie(t,c).onLoad(i).onError(n)})}):S.from(t).then(i=>{let n={};for(let c in e){let o=i.tex.width,d=i.tex.height,l=e[c],f=new S(i.tex,Be(l.sliceX,l.sliceY,l.x/o,l.y/d,l.width/o,l.height/d),l.anims);x.sprites.addLoaded(c,f),n[c]=f}return n}))}s(Ie,"loadSpriteAtlas");function Rt(t,e,i={sliceX:1,sliceY:1,anims:{}}){return x.sprites.add(t,typeof e=="string"?S.fromURL(e,i):Promise.resolve(S.fromImage(e,i)))}s(Rt,"loadSprite");function Lr(t,e){return x.sprites.add(t,new Promise(async i=>{let n=typeof e=="string"?await J(e):e,c=await Promise.all(n.frames.map(gt)),o=document.createElement("canvas");o.width=n.width,o.height=n.height*n.frames.length;let d=o.getContext("2d");c.forEach((f,p)=>{d.drawImage(f,0,p*n.height)});let l=await Rt(null,o,{sliceY:n.frames.length,anims:n.anims});i(l)}))}s(Lr,"loadPedit");function Kr(t,e,i){return x.sprites.add(t,new Promise(async n=>{let c=await Rt(null,e),o=typeof i=="string"?await J(i):i,d=o.meta.size;c.frames=o.frames.map(l=>new Q(l.frame.x/d.w,l.frame.y/d.h,l.frame.w/d.w,l.frame.h/d.h));for(let l of o.meta.frameTags)l.from===l.to?c.anims[l.name]=l.from:c.anims[l.name]={from:l.from,to:l.to,speed:10,loop:!0,pingpong:l.direction==="pingpong"};n(c)}))}s(Kr,"loadAseprite");function zr(t,e,i,n=!1){return x.shaders.add(t,new Promise((c,o)=>{let d=s(l=>l?st(l):new Promise(f=>f(null)),"resolveUrl");if(n)Promise.all([d(e),d(i)]).then(([l,f])=>{c(le(l,f))}).catch(o);else try{c(le(e,i))}catch(l){o(l)}}))}s(zr,"loadShader");function qr(t,e){return x.sounds.add(t,typeof e=="string"?T.fromURL(e):T.fromArrayBuffer(e))}s(qr,"loadSound");function Yr(t="bean"){return Rt(t,Uo)}s(Yr,"loadBean");function De(t){return x.sprites.get(t)}s(De,"getSprite");function Ne(t){return x.sounds.get(t)}s(Ne,"getSound");function Or(t){return x.fonts.get(t)}s(Or,"getFont");function ke(t){return x.bitmapFonts.get(t)}s(ke,"getBitmapFont");function Ce(t){return x.shaders.get(t)}s(Ce,"getShader");function Le(t){if(typeof t=="string"){let e=De(t);if(e)return e;if(k()<1)return null;throw new Error(`Sprite not found: ${t}`)}else{if(t instanceof S)return F.loaded(t);if(t instanceof F)return t;throw new Error(`Invalid sprite: ${t}`)}}s(Le,"resolveSprite");function Gr(t){if(typeof t=="string"){let e=Ne(t);if(e)return e.data?e.data:e;if(k()<1)return null;throw new Error(`Sound not found: ${t}`)}else{if(t instanceof T)return t;if(t instanceof F)return t.data?t.data:t;throw new Error(`Invalid sound: ${t}`)}}s(Gr,"resolveSound");function Xr(t){if(!t)return A.defShader;if(typeof t=="string"){let e=Ce(t);if(e)return e.data?e.data:e;if(k()<1)return null;throw new Error(`Shader not found: ${t}`)}else if(t instanceof F)return t.data?t.data:t;return t}s(Xr,"resolveShader");function Ke(t){var e;if(!t)return Ke((e=r.font)!=null?e:zo);if(typeof t=="string"){let i=ke(t);if(i)return i.data?i.data:i;if(document.fonts.check(`${Dn}px ${t}`))return t;if(k()<1)return null;throw new Error(`Font not found: ${t}`)}else if(t instanceof F)return t.data?t.data:t;return t}s(Ke,"resolveFont");function Qr(t){return t!==void 0&&(P.masterNode.gain.value=ot(t,Mn,Bn)),P.masterNode.gain.value}s(Qr,"volume");function kt(t,e={loop:!1,volume:1,speed:1,detune:0,seek:0}){var E;let i=Gr(t);if(i instanceof F){let v=kt(new T(Fe())),b=s(z=>{let j=kt(z,e);for(let G in j)v[G]=j[G]},"doPlay");return i.onLoad(b),v}else if(i===null){let v=kt(new T(Fe()));return ye(()=>{}),v}let n=P.ctx,c=!1,o=n.createBufferSource();o.buffer=i.buf,o.loop=!!e.loop;let d=n.createGain();o.connect(d),d.connect(P.masterNode);let l=(E=e.seek)!=null?E:0;o.start(0,l);let f=n.currentTime-l,p=null,g={stop(){c||(this.pause(),f=n.currentTime)},play(v){if(!c)return;let b=o;o=n.createBufferSource(),o.buffer=b.buffer,o.loop=b.loop,o.playbackRate.value=b.playbackRate.value,o.detune&&(o.detune.value=b.detune.value),o.connect(d);let z=v!=null?v:this.time();o.start(0,z),f=n.currentTime-z,c=!1,p=null},pause(){c||(o.stop(),c=!0,p=n.currentTime)},isPaused(){return c},isStopped(){return c},speed(v){return v!==void 0&&(o.playbackRate.value=ot(v,ko,Co)),o.playbackRate.value},detune(v){return o.detune?(v!==void 0&&(o.detune.value=ot(v,Lo,Ko)),o.detune.value):0},volume(v){return v!==void 0&&(d.gain.value=ot(v,Mn,Bn)),d.gain.value},loop(){o.loop=!0},unloop(){o.loop=!1},duration(){return i.buf.duration},time(){return c?p-f:n.currentTime-f}};return g.speed(e.speed),g.detune(e.detune),g.volume(e.volume),g}s(kt,"play");function ze(t){return kt(P.burpSnd,t)}s(ze,"burp");function le(t=br,e=Rr){let i=Oo.replace("{{user}}",t!=null?t:br),n=Go.replace("{{user}}",e!=null?e:Rr),c=h.createShader(h.VERTEX_SHADER),o=h.createShader(h.FRAGMENT_SHADER);h.shaderSource(c,i),h.shaderSource(o,n),h.compileShader(c),h.compileShader(o);let d=h.createProgram();if(u.push(()=>h.deleteProgram(d)),h.attachShader(d,c),h.attachShader(d,o),h.bindAttribLocation(d,0,"a_pos"),h.bindAttribLocation(d,1,"a_uv"),h.bindAttribLocation(d,2,"a_color"),h.linkProgram(d),!h.getProgramParameter(d,h.LINK_STATUS)){let l=s(E=>{let v=/^ERROR:\s0:(?<line>\d+):\s(?<msg>.+)/,b=E.match(v);return{line:Number(b.groups.line),msg:b.groups.msg.replace(/\n\0$/,"")}},"formatShaderError"),f=h.getShaderInfoLog(c),p=h.getShaderInfoLog(o),g="";if(f){let E=l(f);g+=`Vertex shader line ${E.line-14}: ${E.msg}`}if(p){let E=l(p);g+=`Fragment shader line ${E.line-14}: ${E.msg}`}throw new Error(g)}return h.deleteShader(c),h.deleteShader(o),{bind(){h.useProgram(d)},unbind(){h.useProgram(null)},free(){h.deleteProgram(d)},send(l){for(let f in l){let p=l[f],g=h.getUniformLocation(d,f);typeof p=="number"?h.uniform1f(g,p):p instanceof B?h.uniformMatrix4fv(g,!1,new Float32Array(p.m)):p instanceof U?h.uniform3f(g,p.r,p.g,p.b):p instanceof Br?h.uniform3f(g,p.x,p.y,p.z):p instanceof L&&h.uniform2f(g,p.x,p.y)}}}}s(le,"makeShader");function Zr(t,e,i,n){let c=t.width/e,o={},d=n.split("").entries();for(let[l,f]of d)o[f]=new Q(l%c*e,Math.floor(l/c)*i,e,i);return{tex:t,map:o,size:i}}s(Zr,"makeFont");function de(t,e,i,n=A.defTex,c=A.defShader,o={}){let d=Xr(c);if(!(!d||d instanceof F)){(n!==A.curTex||d!==A.curShader||!kr(A.curUniform,o)||A.vqueue.length+t.length*Te>kn||A.iqueue.length+e.length>Cn)&&ft();for(let l of t){let f=i?A.transform:V.cam.transform.mult(A.transform),p=Jr(f.multVec2(l.pos.xy()));A.vqueue.push(p.x,p.y,l.pos.z,l.uv.x,l.uv.y,l.color.r/255,l.color.g/255,l.color.b/255,l.opacity)}for(let l of e)A.iqueue.push(l+A.vqueue.length/Te-t.length);A.curTex=n,A.curShader=d,A.curUniform=o}}s(de,"drawRaw");function ft(){!A.curTex||!A.curShader||A.vqueue.length===0||A.iqueue.length===0||(h.bindBuffer(h.ARRAY_BUFFER,A.vbuf),h.bufferSubData(h.ARRAY_BUFFER,0,new Float32Array(A.vqueue)),h.bindBuffer(h.ELEMENT_ARRAY_BUFFER,A.ibuf),h.bufferSubData(h.ELEMENT_ARRAY_BUFFER,0,new Uint16Array(A.iqueue)),A.curShader.bind(),A.curShader.send(A.curUniform),A.curTex.bind(),h.drawElements(h.TRIANGLES,A.iqueue.length,h.UNSIGNED_SHORT,0),A.curTex.unbind(),A.curShader.unbind(),h.bindBuffer(h.ARRAY_BUFFER,null),h.bindBuffer(h.ELEMENT_ARRAY_BUFFER,null),A.vqueue=[],A.iqueue=[],A.drawCalls++)}s(ft,"flush");function jr(){oi(),h.clear(h.COLOR_BUFFER_BIT),r.background||ut(()=>{Tt({width:K(),height:D(),quad:new Q(0,0,K()/In,D()/In),tex:A.bgTex,fixed:!0})}),A.drawCalls=0,A.transformStack=[],A.transform=new B}s(jr,"frameStart");function Wr(){ft(),A.lastDrawCalls=A.drawCalls}s(Wr,"frameEnd");function Jr(t){return m(t.x/K()*2-1,-t.y/D()*2+1)}s(Jr,"screen2ndc");function Hr(t){A.transform=t.clone()}s(Hr,"pushMatrix");function C(...t){if(t[0]===void 0)return;let e=m(...t);e.x===0&&e.y===0||(A.transform=A.transform.translate(e))}s(C,"pushTranslate");function St(...t){if(t[0]===void 0)return;let e=m(...t);e.x===1&&e.y===1||(A.transform=A.transform.scale(e))}s(St,"pushScale");function _r(t){!t||(A.transform=A.transform.rotateX(t))}s(_r,"pushRotateX");function $r(t){!t||(A.transform=A.transform.rotateY(t))}s($r,"pushRotateY");function Vt(t){!t||(A.transform=A.transform.rotateZ(t))}s(Vt,"pushRotateZ");let uo=Vt;function rt(){A.transformStack.push(A.transform.clone())}s(rt,"pushTransform");function H(){A.transformStack.length>0&&(A.transform=A.transformStack.pop())}s(H,"popTransform");function Tt(t){var b;if(t.width===void 0||t.height===void 0)throw new Error('drawUVQuad() requires property "width" and "height".');if(t.width<=0||t.height<=0)return;let e=t.width,i=t.height,n=Qt(t.anchor||be).scale(m(e,i).scale(-.5)),c=t.quad||new Q(0,0,1,1),o=t.color||R(255,255,255),d=(b=t.opacity)!=null?b:1,l=t.tex?Nn/t.tex.width:0,f=t.tex?Nn/t.tex.height:0,p=c.x+l,g=c.y+f,E=c.w-l*2,v=c.h-f*2;rt(),C(t.pos),Vt(t.angle),St(t.scale),C(n),de([{pos:Dt(-e/2,i/2,0),uv:m(t.flipX?p+E:p,t.flipY?g:g+v),color:o,opacity:d},{pos:Dt(-e/2,-i/2,0),uv:m(t.flipX?p+E:p,t.flipY?g+v:g),color:o,opacity:d},{pos:Dt(e/2,-i/2,0),uv:m(t.flipX?p:p+E,t.flipY?g+v:g),color:o,opacity:d},{pos:Dt(e/2,i/2,0),uv:m(t.flipX?p:p+E,t.flipY?g:g+v),color:o,opacity:d}],[0,1,3,1,2,3],t.fixed,t.tex,t.shader,t.uniform),H()}s(Tt,"drawUVQuad");function ti(t){var o;if(!t.tex)throw new Error('drawTexture() requires property "tex".');let e=(o=t.quad)!=null?o:new Q(0,0,1,1),i=t.tex.width*e.w,n=t.tex.height*e.h,c=m(1);if(t.tiled){let d=Math.ceil((t.width||i)/i),l=Math.ceil((t.height||n)/n),f=Qt(t.anchor||be).add(m(1,1)).scale(.5).scale(d*i,l*n);for(let p=0;p<d;p++)for(let g=0;g<l;g++)Tt({...t,pos:(t.pos||m(0)).add(m(i*p,n*g)).sub(f),scale:c.scale(t.scale||m(1)),tex:t.tex,quad:e,width:i,height:n,anchor:"topleft"})}else t.width&&t.height?(c.x=t.width/i,c.y=t.height/n):t.width?(c.x=t.width/i,c.y=c.x):t.height&&(c.y=t.height/n,c.x=c.y),Tt({...t,scale:c.scale(t.scale||m(1)),tex:t.tex,quad:e,width:i,height:n})}s(ti,"drawTexture");function qe(t){var n,c;if(!t.sprite)throw new Error('drawSprite() requires property "sprite"');let e=Le(t.sprite);if(!e||!e.data)return;let i=e.data.frames[(n=t.frame)!=null?n:0];if(!i)throw new Error(`Frame not found: ${(c=t.frame)!=null?c:0}`);ti({...t,tex:e.data.tex,quad:i.scale(t.quad||new Q(0,0,1,1))})}s(qe,"drawSprite");function Ct(t,e,i,n,c,o=1){n=xt(n%360),c=xt(c%360),c<=n&&(c+=Math.PI*2);let d=Math.ceil(Math.max(Math.sqrt(e+i)*3*(o||1),16)),l=(c-n)/d,f=[];for(let p=n;p<c;p+=l)f.push(t.add(e*Math.cos(p),i*Math.sin(p)));return f.push(t.add(e*Math.cos(c),i*Math.sin(c))),f}s(Ct,"getArcPts");function _(t){if(t.width===void 0||t.height===void 0)throw new Error('drawRect() requires property "width" and "height".');if(t.width<=0||t.height<=0)return;let e=t.width,i=t.height,n=Qt(t.anchor||be).add(1,1).scale(m(e,i).scale(-.5)),c=[m(0,0),m(e,0),m(e,i),m(0,i)];if(t.radius){let o=Math.min(Math.min(e,i)/2,t.radius);c=[m(o,0),m(e-o,0),...Ct(m(e-o,o),o,o,270,360),m(e,o),m(e,i-o),...Ct(m(e-o,i-o),o,o,0,90),m(e-o,i),m(o,i),...Ct(m(o,i-o),o,o,90,180),m(0,i-o),m(0,o),...Ct(m(o,o),o,o,180,270)]}wt({...t,offset:n,pts:c,...t.gradient?{colors:t.horizontal?[t.gradient[0],t.gradient[1],t.gradient[1],t.gradient[0]]:[t.gradient[0],t.gradient[0],t.gradient[1],t.gradient[1]]}:{}})}s(_,"drawRect");function Lt(t){let{p1:e,p2:i}=t;if(!e||!i)throw new Error('drawLine() requires properties "p1" and "p2".');let n=t.width||1,c=i.sub(e).unit().normal().scale(n*.5),o=[e.sub(c),e.add(c),i.add(c),i.sub(c)].map(d=>{var l,f;return{pos:Dt(d.x,d.y,0),uv:m(0),color:(l=t.color)!=null?l:U.WHITE,opacity:(f=t.opacity)!=null?f:1}});de(o,[0,1,3,1,2,3],t.fixed,A.defTex,t.shader,t.uniform)}s(Lt,"drawLine");function Ye(t){let e=t.pts;if(!e)throw new Error('drawLines() requires property "pts".');if(!(e.length<2))if(t.radius&&e.length>=3){let i=e[0].dist(e[1]);for(let n=1;n<e.length-1;n++)i=Math.min(e[n].dist(e[n+1]),i);Math.min(t.radius,i/2),Lt({...t,p1:e[0],p2:e[1]});for(let n=1;n<e.length-2;n++){let c=e[n],o=e[n+1];Lt({...t,p1:c,p2:o})}Lt({...t,p1:e[e.length-2],p2:e[e.length-1]})}else for(let i=0;i<e.length-1;i++)Lt({...t,p1:e[i],p2:e[i+1]})}s(Ye,"drawLines");function Oe(t){if(!t.p1||!t.p2||!t.p3)throw new Error('drawPolygon() requires properties "p1", "p2" and "p3".');return wt({...t,pts:[t.p1,t.p2,t.p3]})}s(Oe,"drawTriangle");function Pt(t){if(!t.radius)throw new Error('drawCircle() requires property "radius".');t.radius!==0&&Ge({...t,radiusX:t.radius,radiusY:t.radius,angle:0})}s(Pt,"drawCircle");function Ge(t){var o,d;if(t.radiusX===void 0||t.radiusY===void 0)throw new Error('drawEllipse() requires properties "radiusX" and "radiusY".');if(t.radiusX===0||t.radiusY===0)return;let e=(o=t.start)!=null?o:0,i=(d=t.end)!=null?d:360,n=Ct(m(0),t.radiusX,t.radiusY,e,i,t.resolution);n.unshift(m(0));let c={...t,pts:n,radius:0,...t.gradient?{colors:[t.gradient[0],...Array(n.length-1).fill(t.gradient[1])]}:{}};if(i-e>=360&&t.outline){t.fill!==!1&&wt({...c,outline:null}),wt({...c,pts:n.slice(1),fill:!1});return}wt(c)}s(Ge,"drawEllipse");function wt(t){var i,n;if(!t.pts)throw new Error('drawPolygon() requires property "pts".');let e=t.pts.length;if(!(e<3)){if(rt(),C(t.pos),St(t.scale),Vt(t.angle),C(t.offset),t.fill!==!1){let c=(i=t.color)!=null?i:U.WHITE,o=t.pts.map((l,f)=>{var p,g;return{pos:Dt(l.x,l.y,0),uv:m(0,0),color:t.colors&&(p=t.colors[f])!=null?p:c,opacity:(g=t.opacity)!=null?g:1}}),d=[...Array(e-2).keys()].map(l=>[0,l+1,l+2]).flat();de(o,(n=t.indices)!=null?n:d,t.fixed,A.defTex,t.shader,t.uniform)}t.outline&&Ye({pts:[...t.pts,t.pts[0]],radius:t.radius,width:t.outline.width,color:t.outline.color,uniform:t.uniform,fixed:t.fixed,opacity:t.opacity}),H()}}s(wt,"drawPolygon");function Xe(t,e,i){ft(),h.clear(h.STENCIL_BUFFER_BIT),h.enable(h.STENCIL_TEST),h.stencilFunc(h.NEVER,1,255),h.stencilOp(h.REPLACE,h.REPLACE,h.REPLACE),e(),ft(),h.stencilFunc(i,1,255),h.stencilOp(h.KEEP,h.KEEP,h.KEEP),t(),ft(),h.disable(h.STENCIL_TEST)}s(Xe,"drawStenciled");function ei(t,e){Xe(t,e,h.EQUAL)}s(ei,"drawMasked");function ri(t,e){Xe(t,e,h.NOTEQUAL)}s(ri,"drawSubtracted");function Qe(){return(A.viewport.width+A.viewport.height)/(A.width+A.height)}s(Qe,"getViewportScale");function ut(t){ft();let e=A.width,i=A.height;A.width=A.viewport.width,A.height=A.viewport.height,t(),ft(),A.width=e,A.height=i}s(ut,"drawUnscaled");function Ze(t,e){e.pos&&(t.pos=t.pos.add(e.pos)),e.scale&&(t.scale=t.scale.scale(m(e.scale))),e.angle&&(t.angle+=e.angle),e.color&&(t.color=t.color.mult(e.color)),e.opacity&&(t.opacity*=e.opacity)}s(Ze,"applyCharTransform");let ii=/\[(?<text>[^\]]*)\]\.(?<style>[\w\.]+)+/g;function ni(t){let e={},i=t.replace(ii,"$1"),n=0;for(let c of t.matchAll(ii)){let o=c.groups.style.split("."),d=c.index-n;for(let l=d;l<c.index+c.groups.text.length;l++)e[l]={localIdx:l-d,styles:o};n+=3+c.groups.style.length}return{charStyleMap:e,text:i}}s(ni,"compileStyledText");let je={};function yt(t){var lt,ie,vn,xn,En,bn,Rn;if(t.text===void 0)throw new Error('formatText() requires property "text".');let e=Ke(t.font);if(t.text===""||e instanceof F||!e)return{width:0,height:0,chars:[],opt:t};let{charStyleMap:i,text:n}=ni(t.text+""),c=n.split("");if(e instanceof FontFace||typeof e=="string"){let et=e instanceof FontFace?e.family:e,M=(lt=je[et])!=null?lt:{font:{tex:new w(Se,Se,{filter:"linear"}),map:{},size:Dn},cursor:m(0)};je[et]||(je[et]=M),e=M.font;for(let X of c)if(!M.font.map[X]){let at=a.canvas2.getContext("2d");at.font=`${e.size}px ${et}`,at.clearRect(0,0,a.canvas2.width,a.canvas2.height),at.textBaseline="top",at.textAlign="left",at.fillStyle="rgb(255, 255, 255)",at.fillText(X,0,0);let ne=at.measureText(X),Ot=Math.ceil(ne.width),Gt=at.getImageData(0,0,Ot,e.size);if(M.cursor.x+Ot>Se&&(M.cursor.x=0,M.cursor.y+=e.size,M.cursor.y>Se))throw new Error("Font atlas exceeds character limit");e.tex.update(M.cursor.x,M.cursor.y,Gt),e.map[X]=new Q(M.cursor.x,M.cursor.y,Ot,e.size),M.cursor.x+=Ot}}let o=t.size||e.size,d=m((ie=t.scale)!=null?ie:1).scale(o/e.size),l=(vn=t.lineSpacing)!=null?vn:0,f=(xn=t.letterSpacing)!=null?xn:0,p=0,g=0,E=0,v=[],b=[],z=0,j=null,G=null;for(;z<c.length;){let et=c[z];if(et===`
`)E+=o+l,v.push({width:p-f,chars:b}),j=null,G=null,p=0,b=[];else{let M=e.map[et];if(M){let X=M.w*d.x;t.width&&p+X>t.width&&(E+=o+l,j!=null&&(z-=b.length-j,et=c[z],M=e.map[et],X=M.w*d.x,b=b.slice(0,j-1),p=G),j=null,G=null,v.push({width:p-f,chars:b}),p=0,b=[]),b.push({tex:e.tex,width:M.w,height:M.h,quad:new Q(M.x/e.tex.width,M.y/e.tex.height,M.w/e.tex.width,M.h/e.tex.height),ch:et,pos:m(p,E),opacity:(En=t.opacity)!=null?En:1,color:(bn=t.color)!=null?bn:U.WHITE,scale:m(d),angle:0}),et===" "&&(j=b.length,G=p),p+=X,g=Math.max(g,p),p+=f}}z++}v.push({width:p-f,chars:b}),E+=o,t.width&&(g=t.width);let It=[];for(let et of v){let M=(g-et.width)*ao((Rn=t.align)!=null?Rn:"left");for(let X of et.chars){let at=e.map[X.ch],ne=It.length,Ot=new L(at.w*d.x*.5,at.h*d.y*.5);if(X.pos=X.pos.add(M,0).add(Ot),t.transform){let Gt=typeof t.transform=="function"?t.transform(ne,X.ch):t.transform;Gt&&Ze(X,Gt)}if(i[ne]){let{styles:Gt,localIdx:Vo}=i[ne];for(let wo of Gt){let Er=t.styles[wo],Sn=typeof Er=="function"?Er(Vo,X.ch):Er;Sn&&Ze(X,Sn)}}It.push(X)}}return{width:g,height:E,chars:It,opt:t}}s(yt,"formatText");function Jt(t){vt(yt(t))}s(Jt,"drawText");function vt(t){var e;rt(),C(t.opt.pos),Vt(t.opt.angle),C(Qt((e=t.opt.anchor)!=null?e:"topleft").add(1,1).scale(t.width,t.height).scale(-.5)),t.chars.forEach(i=>{Tt({tex:i.tex,width:i.width,height:i.height,pos:i.pos,scale:i.scale,angle:i.angle,color:i.color,opacity:i.opacity,quad:i.quad,anchor:"center",uniform:t.opt.uniform,shader:t.opt.shader,fixed:t.opt.fixed})}),H()}s(vt,"drawFormattedText");function oi(){var c;if(a.stretchToParent&&!me()){let o=a.canvas.parentElement.offsetWidth,d=a.canvas.parentElement.offsetHeight;if(o!==a.lastParentWidth||d!==a.lastParentHeight){a.canvas.width=o*a.pixelDensity,a.canvas.height=d*a.pixelDensity,a.canvas.style.width=o+"px",a.canvas.style.height=d+"px";let l=K(),f=D();V.ev.onOnce("frameEnd",()=>{V.ev.trigger("resize",l,f,K(),D())})}a.lastParentWidth=o,a.lastParentHeight=d}let t=a.pixelDensity,e=h.drawingBufferWidth/t,i=h.drawingBufferHeight/t;if(me()){let o=window.innerWidth,d=window.innerHeight,l=o/d,f=e/i;if(l>f){let p=window.innerHeight*f;A.viewport={x:(o-p)/2,y:0,width:p,height:d}}else{let p=window.innerWidth/f;A.viewport={x:0,y:(d-p)/2,width:o,height:p}}return}if(r.letterbox){if(!r.width||!r.height)throw new Error("Letterboxing requires width and height defined.");let o=e/i,d=r.width/r.height;if(o>d){r.stretch||(A.width=i*d,A.height=i);let l=i*d,f=i,p=(e-l)/2;h.scissor(p*t,0,l*t,f*t),h.viewport(p*t,0,l*t,i*t),A.viewport={x:p,y:0,width:l,height:i}}else{r.stretch||(A.width=e,A.height=e/d);let l=e,f=e/d,p=(i-f)/2;h.scissor(0,p*t,l*t,f*t),h.viewport(0,p*t,e*t,f*t),A.viewport={x:0,y:p,width:e,height:f}}return}if(r.stretch){if(!r.width||!r.height)throw new Error("Stretching requires width and height defined.");h.viewport(0,0,e*t,i*t),A.viewport={x:0,y:0,width:e,height:i};return}let n=(c=r.scale)!=null?c:1;A.width=e/n,A.height=i/n,h.viewport(0,0,e*t,i*t),A.viewport={x:0,y:0,width:e,height:i}}s(oi,"updateViewport");function K(){return A.width}s(K,"width");function D(){return A.height}s(D,"height");let $={},Ht={},Kt={};function _t(t){return m((t.x-A.viewport.x)*K()/A.viewport.width,(t.y-A.viewport.y)*D()/A.viewport.height)}s(_t,"windowToContent");function si(t){return m(t.x*A.viewport.width/A.width,t.y*A.viewport.height/A.height)}s(si,"contentToView");function ce(t,e){let i=_t(m(t,e));a.mouseStarted&&(a.mouseDeltaPos=i.sub(a.mousePos)),a.mousePos=i,a.mouseStarted=!0,a.isMouseMoved=!0}s(ce,"setMousePos"),$.mousemove=t=>{ce(t.offsetX,t.offsetY)},$.mousedown=t=>{let e=Fn[t.button];e&&(a.mouseStates[e]="pressed")},$.mouseup=t=>{let e=Fn[t.button];e&&(a.mouseStates[e]="released")},$.keydown=t=>{let e=Pn[t.key]||t.key.toLowerCase();No.includes(e)&&t.preventDefault(),e.length===1&&a.charInputted.push(t.key),e==="space"&&a.charInputted.push(" "),t.repeat?(a.isKeyPressedRepeat=!0,a.keyStates[e]="rpressed"):(a.isKeyPressed=!0,a.keyStates[e]="pressed"),a.numKeyDown++},$.keyup=t=>{let e=Pn[t.key]||t.key.toLowerCase();a.keyStates[e]="released",a.isKeyReleased=!0,a.numKeyDown--},$.touchstart=t=>{t.preventDefault();let e=[...t.changedTouches];e.forEach(i=>{V.ev.trigger("onTouchStart",_t(m(i.clientX,i.clientY)),i)}),r.touchToMouse!==!1&&(ce(e[0].clientX,e[0].clientY),a.mouseStates.left="pressed")},$.touchmove=t=>{t.preventDefault();let e=[...t.changedTouches];e.forEach(i=>{V.ev.trigger("onTouchMove",_t(m(i.clientX,i.clientY)),i)}),r.touchToMouse!==!1&&ce(e[0].clientX,e[0].clientY)},$.touchend=t=>{[...t.changedTouches].forEach(e=>{V.ev.trigger("onTouchEnd",_t(m(e.clientX,e.clientY)),e)}),r.touchToMouse!==!1&&(a.mouseStates.left="released")},$.touchcancel=()=>{r.touchToMouse!==!1&&(a.mouseStates.left="released")},$.contextmenu=function(t){t.preventDefault()},Ht.visibilitychange=()=>{switch(document.visibilityState){case"visible":a.skipTime=!0,N.paused||P.ctx.resume();break;case"hidden":P.ctx.suspend();break}},Kt.error=t=>{t.error?Ee(t.error):Ee(new Error(t.message))},Kt.unhandledrejection=t=>Ee(t.reason);for(let t in $)a.canvas.addEventListener(t,$[t]);for(let t in Ht)document.addEventListener(t,Ht[t]);for(let t in Kt)window.addEventListener(t,Kt[t]);function it(){return a.mousePos.clone()}s(it,"mousePos");function We(){return a.mouseDeltaPos.clone()}s(We,"mouseDeltaPos");function Ft(t="left"){return a.mouseStates[t]==="pressed"}s(Ft,"isMousePressed");function fe(t="left"){return a.mouseStates[t]==="pressed"||a.mouseStates[t]==="down"}s(fe,"isMouseDown");function zt(t="left"){return a.mouseStates[t]==="released"}s(zt,"isMouseReleased");function Je(){return a.isMouseMoved}s(Je,"isMouseMoved");function $t(t){return t===void 0?a.isKeyPressed:a.keyStates[t]==="pressed"}s($t,"isKeyPressed");function He(t){return t===void 0?a.isKeyPressedRepeat:a.keyStates[t]==="pressed"||a.keyStates[t]==="rpressed"}s(He,"isKeyPressedRepeat");function _e(t){return t===void 0?a.numKeyDown>0:a.keyStates[t]==="pressed"||a.keyStates[t]==="rpressed"||a.keyStates[t]==="down"}s(_e,"isKeyDown");function pe(t){return t===void 0?a.isKeyReleased:a.keyStates[t]==="released"}s(pe,"isKeyReleased");function $e(t){return a.virtualButtonStates[t]==="pressed"}s($e,"isVirtualButtonPressed");function tr(t){return a.virtualButtonStates[t]==="pressed"||a.virtualButtonStates[t]==="down"}s(tr,"isVirtualButtonDown");function er(t){return a.virtualButtonStates[t]==="released"}s(er,"isVirtualButtonReleased");function ai(){return[...a.charInputted]}s(ai,"charInputted");function Ae(){return a.time}s(Ae,"time");function ui(){return a.canvas.toDataURL()}s(ui,"screenshot");function rr(t){return t&&(a.canvas.style.cursor=t),a.canvas.style.cursor}s(rr,"setCursor");function hi(t=!0){t?no(a.canvas):oo()}s(hi,"setFullscreen");function me(){return Boolean(so())}s(me,"isFullscreen");let N={inspect:!1,timeScale:1,showLog:!0,fps:()=>a.fpsCounter.fps,numFrames:()=>a.numFrames,stepFrame:yr,drawCalls:()=>A.drawCalls,clearLog:()=>V.logs=[],log:t=>{var i;let e=(i=r.logMax)!=null?i:Yo;V.logs.unshift(`${r.logTime?`[${Ae().toFixed(2)}].time `:""}[${t!=null&&t.toString?t.toString():t}].${t instanceof Error?"error":"info"}`),V.logs.length>e&&(V.logs=V.logs.slice(0,e))},error:t=>N.log(new Error(t.toString?t.toString():t)),curRecording:null,get paused(){return a.paused},set paused(t){a.paused=t,t?P.ctx.suspend():P.ctx.resume()}};function tt(){return a.dt*N.timeScale}s(tt,"dt");function li(...t){return t.length>0&&(V.cam.pos=m(...t)),V.cam.pos.clone()}s(li,"camPos");function di(...t){return t.length>0&&(V.cam.scale=m(...t)),V.cam.scale.clone()}s(di,"camScale");function ci(t){return t!==void 0&&(V.cam.angle=t),V.cam.angle}s(ci,"camRot");function fi(t=12){V.cam.shake=t}s(fi,"shake");function ir(t){return V.cam.transform.multVec2(t)}s(ir,"toScreen");function nr(t){return V.cam.transform.invert().multVec2(t)}s(nr,"toWorld");function or(t){let e=new B;return t.pos&&(e=e.translate(t.pos)),t.scale&&(e=e.scale(t.scale)),t.angle&&(e=e.rotateZ(t.angle)),t.parent?e.mult(t.parent.transform):e}s(or,"calcTransform");function ge(t){let e=new Map,i={},n=new Xt,c={id:Po(),hidden:!1,paused:!1,transform:new B,children:[],parent:null,add(o){let d=(()=>{if(Array.isArray(o))return ge(o);if(o.parent)throw new Error("Cannot add a game obj that already has a parent.");return o})();return d.parent=this,d.transform=or(d),this.children.push(d),d.trigger("add",this),V.ev.trigger("add",this),d},readd(o){let d=this.children.indexOf(o);return d!==-1&&(this.children.splice(d,1),this.children.push(o)),o},remove(o){let d=this.children.indexOf(o);d!==-1&&(o.parent=null,o.trigger("destroy"),V.ev.trigger("destroy",o),this.children.splice(d,1))},removeAll(o){this.get(o).forEach(d=>this.remove(d))},update(){this.paused||(this.get().forEach(o=>o.update()),this.trigger("update"))},draw(){this.hidden||(rt(),C(this.pos),St(this.scale),Vt(this.angle),this.get().forEach(o=>o.draw()),this.trigger("draw"),H())},drawInspect(){this.hidden||(rt(),C(this.pos),St(this.scale),Vt(this.angle),this.get().forEach(o=>o.drawInspect()),this.trigger("drawInspect"),H())},use(o){if(!o)return;if(typeof o=="string")return this.use({id:o});o.id&&(this.unuse(o.id),e.set(o.id,{cleanups:[]}));let d=o.id?e.get(o.id):i,l=o.id?d.cleanups:[],f=s(()=>{if(o.require){for(let p of o.require)if(!this.c(p))throw new Error(`Component "${o.id}" requires component "${p}"`)}},"checkDeps");o.destroy&&l.push(o.destroy),o.require&&!this.exists()&&d.cleanups&&l.push(this.on("add",f));for(let p in o)if(!Xo.has(p)){if(typeof o[p]=="function"){let g=o[p].bind(this);if(Qo.has(p)){l.push(this.on(p,g)),d[p]=g;continue}else d[p]=g}else d[p]=o[p];if(this[p]===void 0)Object.defineProperty(this,p,{get:()=>d[p],set:g=>d[p]=g,configurable:!0,enumerable:!0});else throw new Error(`Duplicate component property: "${p}"`)}this.exists()&&(f(),o.add&&o.add.call(this))},unuse(o){if(e.has(o)){let d=e.get(o);d.cleanups.forEach(l=>l());for(let l in d)delete d[l]}e.delete(o)},c(o){return e.get(o)},get(o){return this.children.filter(d=>o?d.is(o):!0).sort((d,l)=>{var f,p;return((f=d.z)!=null?f:0)-((p=l.z)!=null?p:0)})},getAll(o){return this.children.sort((d,l)=>{var f,p;return((f=d.z)!=null?f:0)-((p=l.z)!=null?p:0)}).flatMap(d=>[d,...d.getAll(o)]).filter(d=>o?d.is(o):!0)},isAncestorOf(o){return o.parent?o.parent===this||this.isAncestorOf(o.parent):!1},exists(){return V.root.isAncestorOf(this)},is(o){if(o==="*")return!0;if(Array.isArray(o)){for(let d of o)if(!this.c(d))return!1;return!0}else return this.c(o)!=null},on(o,d){return n.on(o,d.bind(this))},trigger(o,...d){n.trigger(o,...d),V.objEvents.trigger(o,this,...d)},destroy(){if(this.parent)this.parent.remove(this);else throw new Error("Cannot destroy parentless object.")},inspect(){let o={};for(let[d,l]of e)o[d]=l.inspect?l.inspect():null;return o},onAdd(o){return this.on("add",o)},onUpdate(o){return this.on("update",o)},onDraw(o){return this.on("draw",o)},onDestroy(o){return this.on("destroy",o)},clearEvents(){n.clear()}};for(let o of t)c.use(o);return c}s(ge,"make");function Ut(t,e,i){return V.objEvents[t]||(V.objEvents[t]=new jt),V.objEvents.on(t,(n,...c)=>{n.is(e)&&i(n,...c)})}s(Ut,"on");function pi(t,e){if(typeof t=="function"&&e===void 0){let i=Bt([{update:t}]);return()=>i.destroy()}else if(typeof t=="string")return Ut("update",t,e)}s(pi,"onUpdate");function Ai(t,e){if(typeof t=="function"&&e===void 0){let i=Bt([{draw:t}]);return()=>i.destroy()}else if(typeof t=="string")return Ut("draw",t,e)}s(Ai,"onDraw");function sr(t,e){if(typeof t=="function"&&e===void 0){let i=Bt([{draw:t}]);return()=>i.destroy()}else if(typeof t=="string")return Ut("add",t,e)}s(sr,"onAdd");function mi(t,e){if(typeof t=="function"&&e===void 0){let i=Bt([{draw:t}]);return()=>i.destroy()}else if(typeof t=="string")return Ut("destroy",t,e)}s(mi,"onDestroy");function gi(t,e,i){return Ut("collide",t,(n,c,o)=>c.is(e)&&i(n,c,o))}s(gi,"onCollide");function te(t,e){hn(t).forEach(e),sr(t,e)}s(te,"forAllCurrentAndFuture");function Vi(t,e){if(typeof t=="function")return dr(t);{let i=[];return te(t,n=>{if(!n.area)throw new Error("onClick() requires the object to have area() component");i.push(n.onClick(()=>e(n)))}),()=>i.forEach(n=>n())}}s(Vi,"onClick");function wi(t,e){let i=[];return te(t,n=>{if(!n.area)throw new Error("onHover() requires the object to have area() component");i.push(n.onHover(()=>e(n)))}),()=>i.forEach(n=>n())}s(wi,"onHover");function yi(t,e){let i=[];return te(t,n=>{if(!n.area)throw new Error("onHoverUpdate() requires the object to have area() component");i.push(n.onHoverUpdate(()=>e(n)))}),()=>i.forEach(n=>n())}s(yi,"onHoverUpdate");function vi(t,e){let i=[];return te(t,n=>{if(!n.area)throw new Error("onHoverEnd() requires the object to have area() component");i.push(n.onHoverEnd(()=>e(n)))}),()=>i.forEach(n=>n())}s(vi,"onHoverEnd");function ar(t,e){return new Promise(i=>{V.timers.push(new se(t,()=>{e&&e(),i()}))})}s(ar,"wait");function xi(t,e){let i=!1,n=s(()=>{i||(e(),ar(t,n))},"newF");return n(),()=>i=!0}s(xi,"loop");function ur(t,e){if(Array.isArray(t)){let i=t.map(n=>ur(n,e));return()=>i.forEach(n=>n())}return V.ev.on("input",()=>_e(t)&&e())}s(ur,"onKeyDown");function ht(t,e){if(Array.isArray(t)){let i=t.map(n=>ht(n,e));return()=>i.forEach(n=>n())}else return typeof t=="function"?V.ev.on("input",()=>$t()&&t()):V.ev.on("input",()=>$t(t)&&e())}s(ht,"onKeyPress");function hr(t,e){if(Array.isArray(t)){let i=t.map(n=>hr(n,e));return()=>i.forEach(n=>n())}else return typeof t=="function"?V.ev.on("input",()=>$t()&&t()):V.ev.on("input",()=>He(t)&&e())}s(hr,"onKeyPressRepeat");function lr(t,e){if(Array.isArray(t)){let i=t.map(n=>lr(n,e));return()=>i.forEach(n=>n())}else return typeof t=="function"?V.ev.on("input",()=>pe()&&t()):V.ev.on("input",()=>pe(t)&&e())}s(lr,"onKeyRelease");function Ei(t,e){return typeof t=="function"?V.ev.on("input",()=>fe()&&t(it())):V.ev.on("input",()=>fe(t)&&e(it()))}s(Ei,"onMouseDown");function dr(t,e){return typeof t=="function"?V.ev.on("input",()=>Ft()&&t(it())):V.ev.on("input",()=>Ft(t)&&e(it()))}s(dr,"onMousePress");function bi(t,e){return typeof t=="function"?V.ev.on("input",()=>zt()&&t(it())):V.ev.on("input",()=>zt(t)&&e(it()))}s(bi,"onMouseRelease");function Ri(t){return V.ev.on("input",()=>Je()&&t(it(),We()))}s(Ri,"onMouseMove");function Si(t){return V.ev.on("input",()=>ai().forEach(e=>t(e)))}s(Si,"onCharInput");function Ti(t){return V.ev.on("onTouchStart",t)}s(Ti,"onTouchStart");function Pi(t){return V.ev.on("onTouchMove",t)}s(Pi,"onTouchMove");function Fi(t){return V.ev.on("onTouchEnd",t)}s(Fi,"onTouchEnd");function Ui(t,e){return V.ev.on("input",()=>$e(t)&&e())}s(Ui,"onVirtualButtonPress");function Mi(t,e){return V.ev.on("input",()=>tr(t)&&e())}s(Mi,"onVirtualButtonDown");function Bi(t,e){return V.ev.on("input",()=>er(t)&&e())}s(Bi,"onVirtualButtonRelease");function cr(){ht("f1",()=>{N.inspect=!N.inspect}),ht("f2",()=>{N.clearLog()}),ht("f8",()=>{N.paused=!N.paused}),ht("f7",()=>{N.timeScale=Mt(ot(N.timeScale-.2,0,2),1)}),ht("f9",()=>{N.timeScale=Mt(ot(N.timeScale+.2,0,2),1)}),ht("f10",()=>{N.stepFrame()})}s(cr,"enterDebugMode");function fr(){ht("b",ze)}s(fr,"enterBurpMode");function Ii(t){return t!==void 0&&(V.gravity=t),V.gravity}s(Ii,"gravity");function ee(...t){return{id:"pos",pos:m(...t),moveBy(...e){this.pos=this.pos.add(m(...e))},move(...e){this.moveBy(m(...e).scale(tt()))},moveTo(...e){if(typeof e[0]=="number"&&typeof e[1]=="number")return this.moveTo(m(e[0],e[1]),e[2]);let i=e[0],n=e[1];if(n===void 0){this.pos=m(i);return}let c=i.sub(this.pos);if(c.len()<=n*tt()){this.pos=m(i);return}this.move(c.unit().scale(n))},worldPos(){return this.parent?this.parent.transform.multVec2(this.pos):this.pos},screenPos(){return this.fixed?this.pos:ir(this.pos)},inspect(){return`(${Math.round(this.pos.x)}, ${Math.round(this.pos.y)})`},drawInspect(){Pt({color:R(255,0,0),radius:4/Qe()})}}}s(ee,"pos");function re(...t){return t.length===0?re(1):{id:"scale",scale:m(...t),scaleTo(...e){this.scale=m(...e)},inspect(){return typeof this.scale=="number"?`${Mt(this.scale,2)}`:`(${Mt(this.scale.x,2)}, ${Mt(this.scale.y,2)})`}}}s(re,"scale");function Di(t){return{id:"rotate",angle:t!=null?t:0,rotate(e){this.rotateBy(e*tt())},rotateBy(e){this.angle+=e},inspect(){return`${Math.round(this.angle)}`}}}s(Di,"rotate");function Ni(...t){return{id:"color",color:R(...t),inspect(){return this.color.toString()}}}s(Ni,"color");function Mt(t,e){return Number(t.toFixed(e))}s(Mt,"toFixed");function ki(t){return{id:"opacity",opacity:t!=null?t:1,inspect(){return`${Mt(this.opacity,2)}`}}}s(ki,"opacity");function Ve(t){if(!t)throw new Error("Please define an anchor");return{id:"anchor",anchor:t,inspect(){return typeof this.anchor=="string"?this.anchor:this.anchor.toString()}}}s(Ve,"anchor");function Ci(t){return{id:"z",z:t,inspect(){return`${this.z}`}}}s(Ci,"z");function Li(t,e){return{id:"follow",require:["pos"],follow:{obj:t,offset:e!=null?e:m(0)},add(){t.exists()&&(this.pos=this.follow.obj.pos.add(this.follow.offset))},update(){t.exists()&&(this.pos=this.follow.obj.pos.add(this.follow.offset))}}}s(Li,"follow");function Ki(t,e){let i=typeof t=="number"?L.fromAngle(t):t.unit();return{id:"move",require:["pos"],update(){this.move(i.scale(e))}}}s(Ki,"move");function pr(t={}){let e=0,i=!1;return{id:"outview",require:["pos","area"],isOutOfView(){var o;let n=m((o=t.offset)!=null?o:0),c=O.fromPoints(m(0,0).sub(n),m(K(),D()).add(n));return!Gn(this.screenArea().bbox(),c)},onExitView(n){return this.on("exitView",n)},onEnterView(n){return this.on("enterView",n)},update(){if(this.isOutOfView()){if(i||(this.trigger("exitView"),i=!0),t.delay&&(e+=tt(),e<t.delay))return;t.hide&&(this.hidden=!0),t.pause&&(this.paused=!0),t.destroy&&this.destroy()}else i&&(this.trigger("enterView"),i=!1),e=0,t.hide&&(this.hidden=!1),t.pause&&(this.paused=!1)},inspect(){return`${this.isOutOfView()}`}}}s(pr,"outview");function zi(t={}){return{...pr({destroy:!0,onExitView:t.onCleanup,offset:t.offset,delay:t.delay}),id:"cleanup"}}s(zi,"cleanup");function qi(t={}){var i,n,c,o,d;let e=[];return{id:"area",colliding:{},collisionIgnore:(i=t.collisionIgnore)!=null?i:[],add(){this.area.cursor&&e.push(this.onHover(()=>rr(this.area.cursor))),e.push(this.onCollideUpdate((l,f)=>{this.colliding[l.id]||this.trigger("collide",l,f),this.colliding[l.id]=f}))},update(){for(let l in this.colliding){let f=this.colliding[l];this.checkCollision(f.target)||(delete this.colliding[l],this.trigger("collideEnd",f.target,f))}},drawInspect(){let l=this.localArea();rt(),St(this.area.scale),C(this.area.offset);let f={outline:{width:4/Qe(),color:R(0,0,255)},anchor:this.anchor,fill:!1,fixed:this.fixed};l instanceof O?_({...f,pos:l.pos,width:l.width,height:l.height}):l instanceof Wt?wt({...f,pts:l.pts}):l instanceof oe&&Pt({...f,pos:l.center,radius:l.radius}),H()},destroy(){e.forEach(l=>l())},area:{shape:(n=t.shape)!=null?n:null,scale:(c=t.scale)!=null?c:m(1),offset:(o=t.offset)!=null?o:m(0),cursor:(d=t.cursor)!=null?d:null},isClicked(){return Ft()&&this.isHovering()},isHovering(){let l=this.fixed?it():nr(it());return this.hasPoint(l)},checkCollision(l){if(this===l||!l.area||!l.exists())return null;let f=this.worldArea(),p=l.worldArea();return Jn(f,p)},isColliding(l){let f=this.checkCollision(l);return f&&!f.isZero()},isTouching(l){return Boolean(this.checkCollision(l))},onClick(l){return this.onUpdate(()=>{this.isClicked()&&l()})},onHover(l){let f=!1;return this.onUpdate(()=>{f?f=this.isHovering():this.isHovering()&&(f=!0,l())})},onHoverUpdate(l){return this.onUpdate(()=>{this.isHovering()&&l()})},onHoverEnd(l){let f=!1;return this.onUpdate(()=>{f?this.isHovering()||(f=!1,l()):f=this.isHovering()})},onCollide(l,f){if(typeof l=="function"&&f===void 0)return this.on("collide",l);if(typeof l=="string")return this.onCollide((p,g)=>{p.is(l)&&f(p,g)})},onCollideUpdate(l,f){if(typeof l=="function"&&f===void 0)return this.on("collideUpdate",l);if(typeof l=="string")return this.on("collideUpdate",(p,g)=>p.is(l)&&f(p,g))},onCollideEnd(l,f){if(typeof l=="function"&&f===void 0)return this.on("collideEnd",l);if(typeof l=="string")return this.on("collideEnd",p=>p.is(l)&&f(p))},hasPoint(l){return Wn(this.worldArea(),mt.fromVec2(l))},pushOut(l){let f=this.checkCollision(l);f&&(this.pos=this.pos.add(f))},pushOutAll(){V.root.getAll().forEach(this.pushOut)},localArea(){return this.area.shape?this.area.shape:this.renderArea()},worldArea(){var p;let l=this.localArea();if(!(l instanceof Wt||l instanceof O))throw new Error("Only support polygon and rect shapes for now");let f=this.transform.scale(m((p=this.area.scale)!=null?p:1)).translate(this.area.offset);if(l instanceof O){let g=l.bbox(),E=Qt(this.anchor||be).add(1,1).scale(-.5).scale(g.width,g.height);f=f.translate(E)}return l.transform(f)},screenArea(){let l=this.worldArea();return this.fixed?l:l.transform(V.cam.transform)}}}s(qi,"area");function qt(t){return{color:t.color,opacity:t.opacity,anchor:t.anchor,outline:t.outline,fixed:t.fixed,shader:t.shader,uniform:t.uniform}}s(qt,"getRenderProps");function we(t,e={}){var o;let i=null,n=null;if(!t)throw new Error("Please pass the resource name or data to sprite()");let c=s((d,l,f,p)=>{let g=m(1,1);return f&&p?(g.x=f/(d.width*l.w),g.y=p/(d.height*l.h)):f?(g.x=f/(d.width*l.w),g.y=g.x):p&&(g.y=p/(d.height*l.h),g.x=g.y),g},"calcTexScale");return{id:"sprite",width:0,height:0,frame:e.frame||0,quad:e.quad||new Q(0,0,1,1),animSpeed:(o=e.animSpeed)!=null?o:1,draw(){!i||qe({...qt(this),sprite:i,frame:this.frame,quad:this.quad,flipX:e.flipX,flipY:e.flipY,tiled:e.tiled,width:e.width,height:e.height})},update(){if(!i){let l=Le(t);if(!l||!l.data)return;let f=l.data.frames[0].clone();e.quad&&(f=f.scale(e.quad));let p=c(l.data.tex,f,e.width,e.height);this.width=l.data.tex.width*f.w*p.x,this.height=l.data.tex.height*f.h*p.y,e.anim&&this.play(e.anim),i=l.data,this.trigger("spriteLoaded",i)}if(!n)return;let d=i.anims[n.name];if(typeof d=="number"){this.frame=d;return}if(d.speed===0)throw new Error("Sprite anim speed cannot be 0");n.timer+=tt()*this.animSpeed,n.timer>=1/n.speed&&(n.timer=0,d.from>d.to?(this.frame--,this.frame<d.to&&(n.loop?this.frame=d.from:(this.frame++,n.onEnd(),this.stop()))):(this.frame++,this.frame>d.to&&(n.loop?this.frame=d.from:(this.frame--,n.onEnd(),this.stop()))))},play(d,l={}){var p,g,E,v,b,z,j;if(!i){this.on("spriteLoaded",()=>{this.play(d,l)});return}let f=i.anims[d];if(!f)throw new Error(`Anim not found: ${d}`);n&&this.stop(),n=typeof f=="number"?{name:d,timer:0,loop:!1,pingpong:!1,speed:0,onEnd:()=>{}}:{name:d,timer:0,loop:(g=(p=l.loop)!=null?p:f.loop)!=null?g:!1,pingpong:(v=(E=l.pingpong)!=null?E:f.pingpong)!=null?v:!1,speed:(z=(b=l.speed)!=null?b:f.speed)!=null?z:10,onEnd:(j=l.onEnd)!=null?j:()=>{}},this.frame=typeof f=="number"?f:f.from,this.trigger("animStart",d)},stop(){if(!n)return;let d=n.name;n=null,this.trigger("animEnd",d)},numFrames(){return i?i.frames.length:0},curAnim(){return n==null?void 0:n.name},flipX(d){e.flipX=d},flipY(d){e.flipY=d},onAnimEnd(d,l){return this.on("animEnd",f=>{f===d&&l()})},onAnimStart(d,l){return this.on("animStart",f=>{f===d&&l()})},renderArea(){return new O(m(0),this.width,this.height)},inspect(){if(typeof t=="string")return`"${t}"`}}}s(we,"sprite");function Yi(t,e={}){var n;function i(c){var d,l;let o=yt({...qt(c),text:c.text+"",size:c.textSize,font:c.font,width:e.width&&c.width,align:c.align,letterSpacing:c.letterSpacing,lineSpacing:c.lineSpacing,transform:c.textTransform,styles:c.textStyles});return e.width||(c.width=o.width/(((d=c.scale)==null?void 0:d.x)||1)),c.height=o.height/(((l=c.scale)==null?void 0:l.y)||1),o}return s(i,"update"),{id:"text",text:t,textSize:(n=e.size)!=null?n:qo,font:e.font,width:e.width,height:0,align:e.align,lineSpacing:e.lineSpacing,letterSpacing:e.letterSpacing,textTransform:e.transform,textStyles:e.styles,add(){ye(()=>i(this))},draw(){vt(i(this))},renderArea(){return new O(m(0),this.width,this.height)}}}s(Yi,"text");function Oi(t,e,i={}){return{id:"rect",width:t,height:e,radius:i.radius||0,draw(){_({...qt(this),width:this.width,height:this.height,radius:this.radius})},renderArea(){return new O(m(0),this.width,this.height)},inspect(){return`${Math.ceil(this.width)}, ${Math.ceil(this.height)}`}}}s(Oi,"rect");function Gi(t,e){return{id:"rect",width:t,height:e,draw(){Tt({...qt(this),width:this.width,height:this.height})},renderArea(){return new O(m(0),this.width,this.height)},inspect(){return`${Math.ceil(this.width)}, ${Math.ceil(this.height)}`}}}s(Gi,"uvquad");function Xi(t){return{id:"circle",radius:t,draw(){Pt({...qt(this),radius:this.radius})},renderArea(){return new oe(m(0),this.radius)},inspect(){return`${Math.ceil(this.radius)}`}}}s(Xi,"circle");function Qi(t=1,e=R(0,0,0)){return{id:"outline",outline:{width:t,color:e}}}s(Qi,"outline");function Ar(t,e){let i=new jt;return t&&e&&i.pushd(new se(t,e)),{id:"timer",wait(n,c){return i.pushd(new se(n,c))},update(){i.forEach((n,c)=>{n.tick(tt())&&i.delete(c)})}}}s(Ar,"timer");let ho=640,lo=65536;function Zi(t={}){var d,l,f,p;let e=0,i=null,n=null,c=!1,o=[];return{id:"body",require:["pos","area"],jumpForce:(d=t.jumpForce)!=null?d:ho,gravityScale:(l=t.gravityScale)!=null?l:1,isStatic:(f=t.isStatic)!=null?f:!1,mass:(p=t.mass)!=null?p:0,add(){o.push(this.onCollideUpdate((g,E)=>{if(!g.is("body")||E.resolved||this.isStatic&&g.isStatic)return;E.resolved=!0;let v=!this.isStatic&&g.isStatic?E:E.reverse();v.source.pos=v.source.pos.add(v.displacement),v.source.transform=or(v.source),v.source.trigger("physicsResolve",v),v.target.trigger("physicsResolve",v.reverse())})),o.push(this.onPhysicsResolve(g=>{V.gravity&&(g.isBottom()&&this.isFalling()?(e=0,i=g.target,n=g.target.pos,c?c=!1:this.trigger("ground",i)):g.isTop()&&this.isRising()&&(e=0,this.trigger("headbutt",g.target)))}))},update(){var E;if(!V.gravity||this.isStatic)return;if(c&&(i=null,n=null,this.trigger("fallOff"),c=!1),i)if(!this.isTouching(i)||!i.exists()||!i.is("body"))c=!0;else{i.pos.eq(n)||this.moveBy(i.pos.sub(n)),n=i.pos;return}let g=e;e+=V.gravity*this.gravityScale*tt(),e=Math.min(e,(E=t.maxVelocity)!=null?E:lo),g<0&&e>=0&&this.trigger("fall"),this.move(0,e)},destroy(){o.forEach(g=>g())},onPhysicsResolve(g){return this.on("physicsResolve",g)},curPlatform(){return i},isGrounded(){return i!==null},isFalling(){return e>0},isRising(){return e<0},jump(g){i=null,n=null,e=-g||-this.jumpForce},onGround(g){return this.on("ground",g)},onFall(g){return this.on("fall",g)},onFallOff(g){return this.on("fallOff",g)},onHeadbutt(g){return this.on("headbutt",g)}}}s(Zi,"body");function ji(){let t=!0,e=[];return{require:["body"],add(){e.push(this.onGround(()=>{t=!0}))},destroy(){e.forEach(i=>i())},doubleJump(i){this.isGrounded()?this.jump(i):t&&(t=!1,this.jump(i),this.trigger("doubleJump"))},onDoubleJump(i){return this.on("doubleJump",i)}}}s(ji,"doubleJump");function Wi(t,e={}){return{id:"shader",shader:t,uniform:e}}s(Wi,"shader");function Ji(){return{id:"fixed",fixed:!0}}s(Ji,"fixed");function mr(){return{id:"stay",stay:!0}}s(mr,"stay");function Hi(t){if(t==null)throw new Error("health() requires the initial amount of hp");return{id:"health",hurt(e=1){this.setHP(t-e),this.trigger("hurt")},heal(e=1){this.setHP(t+e),this.trigger("heal")},hp(){return t},setHP(e){t=e,t<=0&&this.trigger("death")},onHurt(e){return this.on("hurt",e)},onHeal(e){return this.on("heal",e)},onDeath(e){return this.on("death",e)},inspect(){return`${t}`}}}s(Hi,"health");function _i(t,e={}){var o;if(t==null)throw new Error("lifespan() requires time");let i=0,n=(o=e.fade)!=null?o:0,c=Math.max(t-n,0);return{id:"lifespan",update(){i+=tt(),i>=c&&(this.opacity=Ue(i,c,t,1,0)),i>=t&&this.destroy()}}}s(_i,"lifespan");function $i(t,e,i){if(!t)throw new Error("state() requires an initial state");let n={};function c(f){n[f]||(n[f]={enter:new At,end:new At,update:new At,draw:new At})}s(c,"initStateEvents");function o(f,p,g){return c(p),n[p][f].add(g)}s(o,"on");function d(f,p,...g){c(p),n[p][f].trigger(...g)}s(d,"trigger");let l=!1;return{id:"state",state:t,enterState(f,...p){if(l=!0,e&&!e.includes(f))throw new Error(`State not found: ${f}`);let g=this.state;if(i){if(!(i!=null&&i[g]))return;let E=typeof i[g]=="string"?[i[g]]:i[g];if(!E.includes(f))throw new Error(`Cannot transition state from "${g}" to "${f}". Available transitions: ${E.map(v=>`"${v}"`).join(", ")}`)}d("end",g,...p),this.state=f,d("enter",f,...p),d("enter",`${g} -> ${f}`,...p)},onStateTransition(f,p,g){return o("enter",`${f} -> ${p}`,g)},onStateEnter(f,p){return o("enter",f,p)},onStateUpdate(f,p){return o("update",f,p)},onStateDraw(f,p){return o("draw",f,p)},onStateEnd(f,p){return o("end",f,p)},update(){l||(d("enter",t),l=!0),d("update",this.state)},draw(){d("draw",this.state)},inspect(){return this.state}}}s($i,"state");function ye(t){x.loaded?t():V.ev.on("load",t)}s(ye,"onLoad");function tn(t,e){V.scenes[t]=e}s(tn,"scene");function en(t,...e){if(!V.scenes[t])throw new Error(`Scene not found: ${t}`);V.ev.onOnce("frameEnd",()=>{V.ev=new Xt,V.objEvents=new Xt,V.root.get().forEach(i=>{i.stay||V.root.remove(i)}),V.root.clearEvents(),V.timers=new jt,V.cam={pos:null,scale:m(1),angle:0,shake:0,transform:new B},V.gravity=0,V.scenes[t](...e),r.debug!==!1&&cr(),r.burp&&fr()})}s(en,"go");function rn(t,e){try{return JSON.parse(window.localStorage[t])}catch{return e?(gr(t,e),e):null}}s(rn,"getData");function gr(t,e){window.localStorage[t]=JSON.stringify(e)}s(gr,"setData");function Vr(t){let e=t(Yt);for(let i in e)Yt[i]=e[i],r.global!==!1&&(window[i]=e[i]);return Yt}s(Vr,"plug");function ve(){return m(K()/2,D()/2)}s(ve,"center");function nn(t,e){return{id:"grid",gridPos:e.clone(),setGridPos(...i){let n=m(...i);this.gridPos=n.clone(),this.pos=m(this.gridPos.x*t.gridWidth(),this.gridPos.y*t.gridHeight())},moveLeft(){this.setGridPos(this.gridPos.add(m(-1,0)))},moveRight(){this.setGridPos(this.gridPos.add(m(1,0)))},moveUp(){this.setGridPos(this.gridPos.add(m(0,-1)))},moveDown(){this.setGridPos(this.gridPos.add(m(0,1)))}}}s(nn,"grid");function on(t,e){var o;if(!e.width||!e.height)throw new Error("Must provide level grid width & height.");let i=Bt([ee((o=e.pos)!=null?o:m(0))]),n=0,c={id:"level",gridWidth(){return e.width},gridHeight(){return e.height},getPos(...d){let l=m(...d);return m(l.x*e.width,l.y*e.height)},spawn(d,...l){let f=m(...l),p=(()=>{if(e[d]){if(typeof e[d]!="function")throw new Error("Level symbol def must be a function returning a component list");return e[d](f)}else if(e.any)return e.any(d,f)})();if(!p)return;let g=m(f.x*e.width,f.y*e.height);for(let E of p)if(E.id==="pos"){g.x+=E.pos.x,g.y+=E.pos.y;break}return p.push(ee(g)),p.push(nn(this,f)),i.add(p)},levelWidth(){return n*e.width},levelHeight(){return t.length*e.height}};return i.use(c),t.forEach((d,l)=>{let f=d.split("");n=Math.max(f.length,n),f.forEach((p,g)=>{i.spawn(p,m(g,l))})}),i}s(on,"addLevel");function sn(t){let e=a.canvas.captureStream(t),i=P.ctx.createMediaStreamDestination();P.masterNode.connect(i);let n=new MediaRecorder(e),c=[];return n.ondataavailable=o=>{o.data.size>0&&c.push(o.data)},n.onerror=()=>{P.masterNode.disconnect(i),e.getTracks().forEach(o=>o.stop())},n.start(),{resume(){n.resume()},pause(){n.pause()},stop(){return n.stop(),P.masterNode.disconnect(i),e.getTracks().forEach(o=>o.stop()),new Promise(o=>{n.onstop=()=>{o(new Blob(c,{type:"video/mp4"}))}})},download(o="kaboom.mp4"){this.stop().then(d=>Pr(o,d))}}}s(sn,"record");function an(){return document.activeElement===a.canvas}s(an,"isFocused");function un(t){t.destroy()}s(un,"destroy");let Bt=V.root.add.bind(V.root),co=V.root.readd.bind(V.root),fo=V.root.removeAll.bind(V.root),hn=V.root.get.bind(V.root),ln=V.root.getAll.bind(V.root);function wr(t=2,e=1){let i=0;return{id:"explode",require:["scale"],update(){let n=Math.sin(i*t)*e;n<0&&this.destroy(),this.scale=m(n),i+=tt()}}}s(wr,"explode");let po=Rt(null,Bo),Ao=Rt(null,Io);function dn(t,e={}){var d,l;let i=Bt([ee(t),mr()]),n=(e.speed||1)*5,c=e.scale||1;i.add([we(Ao),re(0),Ve("center"),wr(n,c),...((d=e.boomComps)!=null?d:()=>[])()]);let o=i.add([we(po),re(0),Ve("center"),Ar(.4/n,()=>o.use(wr(n,c))),...((l=e.kaComps)!=null?l:()=>[])()]);return o.onDestroy(()=>i.destroy()),i}s(dn,"addKaboom");function yr(){V.timers.forEach((t,e)=>{t.time-=tt(),t.time<=0&&(t.action(),V.timers.delete(e))}),V.root.update()}s(yr,"updateFrame");let mo=64;class xe{constructor(e,i,n,c=!1){y(this,"source");y(this,"target");y(this,"displacement");y(this,"resolved",!1);this.source=e,this.target=i,this.displacement=n,this.resolved=c}reverse(){return new xe(this.target,this.source,this.displacement.scale(-1),this.resolved)}isLeft(){return this.displacement.x>0}isRight(){return this.displacement.x<0}isTop(){return this.displacement.y>0}isBottom(){return this.displacement.y<0}}s(xe,"Collision");function cn(){let t={},e=r.hashGridSize||mo,i=new B,n=[];function c(o){if(n.push(i),o.pos&&(i=i.translate(o.pos)),o.scale&&(i=i.scale(o.scale)),o.angle&&(i=i.rotateZ(o.angle)),o.transform=i.clone(),o.c("area")&&!o.paused){let d=o,l=d.worldArea().bbox(),f=Math.floor(l.pos.x/e),p=Math.floor(l.pos.y/e),g=Math.ceil((l.pos.x+l.width)/e),E=Math.ceil((l.pos.y+l.height)/e),v=new Set;for(let b=f;b<=g;b++)for(let z=p;z<=E;z++)if(!t[b])t[b]={},t[b][z]=[d];else if(!t[b][z])t[b][z]=[d];else{let j=t[b][z];for(let G of j){if(!G.exists()||v.has(G.id))continue;for(let lt of d.collisionIgnore)G.is(lt);for(let lt of G.collisionIgnore)d.is(lt);let It=d.checkCollision(G);if(It&&!It.isZero()){let lt=new xe(d,G,It);d.trigger("collideUpdate",G,lt);let ie=lt.reverse();ie.resolved=lt.resolved,G.trigger("collideUpdate",d,ie)}v.add(G.id)}j.push(d)}}o.get().forEach(c),i=n.pop()}s(c,"checkObj"),c(V.root)}s(cn,"checkFrame");function fn(){var i;let t=V.cam,e=L.fromAngle(ue(0,360)).scale(t.shake);t.shake=ae(t.shake,0,5*tt()),t.transform=new B().translate(ve()).scale(t.scale).rotateZ(t.angle).translate(((i=t.pos)!=null?i:ve()).scale(-1).add(e)),V.root.draw(),ft()}s(fn,"drawFrame");function pn(){let t=k();ut(()=>{let e=K()/2,i=24,n=m(K()/2,D()/2).sub(m(e/2,i/2));_({pos:m(0),width:K(),height:D(),color:R(0,0,0)}),_({pos:n,width:e,height:i,fill:!1,outline:{width:4}}),_({pos:n,width:e*t,height:i})}),V.ev.trigger("loading",t)}s(pn,"drawLoadScreen");function vr(t,e){ut(()=>{let i=m(8);rt(),C(t);let n=yt({text:e,font:Re,size:16,pos:i,color:R(255,255,255),fixed:!0}),c=n.width+i.x*2,o=n.height+i.x*2;t.x+c>=K()&&C(m(-c,0)),t.y+o>=D()&&C(m(0,-o)),_({width:c,height:o,color:R(0,0,0),radius:4,opacity:.8,fixed:!0}),vt(n),H()})}s(vr,"drawInspectText");function An(){if(N.inspect){let t=null;for(let e of ln())if(e.c("area")&&e.isHovering()){t=e;break}if(V.root.drawInspect(),t){let e=[],i=t.inspect();for(let n in i)i[n]?e.push(`${n}: ${i[n]}`):e.push(`${n}`);vr(si(it()),e.join(`
`))}vr(m(8),`FPS: ${N.fps()}`)}N.paused&&ut(()=>{rt(),C(K(),0),C(-8,8);let t=32;_({width:t,height:t,anchor:"topright",color:R(0,0,0),opacity:.8,radius:4,fixed:!0});for(let e=1;e<=2;e++)_({width:4,height:t*.6,anchor:"center",pos:m(-t/3*e,t*.5),color:R(255,255,255),radius:2,fixed:!0});H()}),N.timeScale!==1&&ut(()=>{rt(),C(K(),D()),C(-8,-8);let t=8,e=yt({text:N.timeScale.toFixed(1),font:Re,size:16,color:R(255,255,255),pos:m(-t),anchor:"botright",fixed:!0});_({width:e.width+t*2+t*4,height:e.height+t*2,anchor:"botright",color:R(0,0,0),opacity:.8,radius:4,fixed:!0});for(let i=0;i<2;i++){let n=N.timeScale<1;Oe({p1:m(-e.width-t*(n?2:3.5),-t),p2:m(-e.width-t*(n?2:3.5),-t-e.height),p3:m(-e.width-t*(n?3.5:2),-t-e.height/2),pos:m(-i*t*1+(n?-t*.5:0),0),color:R(255,255,255),fixed:!0})}vt(e),H()}),N.curRecording&&ut(()=>{rt(),C(0,D()),C(24,-24),Pt({radius:12,color:R(255,0,0),opacity:Sr(0,1,Ae()*4),fixed:!0}),H()}),N.showLog&&V.logs.length>0&&ut(()=>{rt(),C(0,D()),C(8,-8);let t=8,e=yt({text:V.logs.join(`
`),font:Re,pos:m(t,-t),anchor:"botleft",size:16,width:K()*.6,lineSpacing:t/2,fixed:!0,styles:{time:{color:R(127,127,127)},info:{color:R(255,255,255)},error:{color:R(255,0,127)}}});_({width:e.width+t*2,height:e.height+t*2,anchor:"botleft",color:R(0,0,0),radius:4,opacity:.8,fixed:!0}),vt(e),H()})}s(An,"drawDebug");function mn(){let t=it(),e=s((n,c,o)=>{Pt({radius:80/2,pos:n,outline:{width:4,color:R(0,0,0)},opacity:.5}),o&&Jt({text:o,pos:n,color:R(0,0,0),size:40,anchor:"center",opacity:.5}),Ft("left")&&jn(new oe(n,80/2),mt.fromVec2(t))&&(a.virtualButtonStates[c]="pressed"),zt("left")&&(a.virtualButtonStates[c]="released")},"drawCircleButton"),i=s((n,c,o)=>{_({width:64,height:64,pos:n,outline:{width:4,color:R(0,0,0)},radius:4,anchor:"center",opacity:.5}),o&&Jt({text:o,pos:n,color:R(0,0,0),size:40,anchor:"center",opacity:.5}),Ft("left")&&he(new O(n.add(-64/2,-64/2),64,64),mt.fromVec2(t))&&(a.virtualButtonStates[c]="pressed"),zt("left")&&(a.virtualButtonStates[c]="released")},"drawSquareButton");for(let n in a.virtualButtonStates)a.virtualButtonStates[n]=Pe(a.virtualButtonStates[n]);ut(()=>{e(m(K()-80,D()-160),"a"),e(m(K()-160,D()-80),"b"),i(m(60,D()-124),"left"),i(m(188,D()-124),"right"),i(m(124,D()-188),"up"),i(m(124,D()-60),"down")})}s(mn,"drawVirtualControls"),r.debug!==!1&&cr(),r.burp&&fr();function gn(t){V.ev.on("loading",t)}s(gn,"onLoadUpdate");function Vn(t){V.ev.on("resize",t)}s(Vn,"onResize");function wn(t){V.ev.on("error",t)}s(wn,"onError");function Ee(t){xr(()=>{ut(()=>{let e=K(),i=D(),n={size:36,width:e-32*2,letterSpacing:4,lineSpacing:4,font:Re,fixed:!0};_({width:e,height:i,color:R(0,0,255),fixed:!0});let c=yt({...n,text:t.name,pos:m(32),color:R(255,128,0),fixed:!0});vt(c),Jt({...n,text:t.message,pos:m(32,32+c.height+16),fixed:!0}),H(),V.ev.trigger("error",t)})})}s(Ee,"handleErr");function xr(t){a.loopID!==null&&cancelAnimationFrame(a.loopID);let e=s(i=>{if(a.stopped)return;if(document.visibilityState!=="visible"){a.loopID=requestAnimationFrame(e);return}let n=i/1e3,c=n-a.realTime;a.realTime=n,a.skipTime||(a.dt=c,a.time+=tt(),a.fpsCounter.tick(a.dt)),a.skipTime=!1,a.numFrames++,jr(),t(),Wr();for(let o in a.keyStates)a.keyStates[o]=Pe(a.keyStates[o]);for(let o in a.mouseStates)a.mouseStates[o]=Pe(a.mouseStates[o]);a.charInputted=[],a.isMouseMoved=!1,a.isKeyPressed=!1,a.isKeyPressedRepeat=!1,a.isKeyReleased=!1,a.loopID=requestAnimationFrame(e),V.ev.trigger("frameEnd")},"frame");e(0)}s(xr,"run");function yn(){V.ev.onOnce("frameEnd",()=>{a.stopped=!0,h.clear(h.COLOR_BUFFER_BIT|h.DEPTH_BUFFER_BIT|h.STENCIL_BUFFER_BIT);let t=h.getParameter(h.MAX_TEXTURE_IMAGE_UNITS);for(let e=0;e<t;e++)h.activeTexture(h.TEXTURE0+e),h.bindTexture(h.TEXTURE_2D,null),h.bindTexture(h.TEXTURE_CUBE_MAP,null);h.bindBuffer(h.ARRAY_BUFFER,null),h.bindBuffer(h.ELEMENT_ARRAY_BUFFER,null),h.bindRenderbuffer(h.RENDERBUFFER,null),h.bindFramebuffer(h.FRAMEBUFFER,null),u.forEach(e=>e()),h.deleteBuffer(A.vbuf),h.deleteBuffer(A.ibuf);for(let e in $)a.canvas.removeEventListener(e,$[e]);for(let e in Ht)document.removeEventListener(e,Ht[e]);for(let e in Kt)window.removeEventListener(e,Kt[e])})}s(yn,"quit"),bt("happy",Fo,28,36),xr(()=>{x.loaded||k()===1&&(x.loaded=!0,V.ev.trigger("load")),!x.loaded&&r.loadingScreen!==!1?pn():(V.ev.trigger("input"),N.paused||yr(),cn(),fn(),r.debug!==!1&&An(),r.virtualControls&&mn())});let Yt={VERSION:Do,loadRoot:Y,loadProgress:k,loadSprite:Rt,loadSpriteAtlas:Ie,loadSound:qr,loadBitmapFont:bt,loadFont:ct,loadShader:zr,loadAseprite:Kr,loadPedit:Lr,loadBean:Yr,load:q,getSprite:De,getSound:Ne,getFont:Or,getBitmapFont:ke,getShader:Ce,Asset:F,SpriteData:S,SoundData:T,width:K,height:D,center:ve,dt:tt,time:Ae,screenshot:ui,record:sn,isFocused:an,setCursor:rr,setFullscreen:hi,isFullscreen:me,isTouch:()=>a.isTouch,onLoad:ye,onLoadUpdate:gn,onResize:Vn,onError:wn,camPos:li,camScale:di,camRot:ci,shake:fi,toScreen:ir,toWorld:nr,gravity:Ii,add:Bt,make:ge,destroy:un,destroyAll:fo,get:hn,getAll:ln,readd:co,pos:ee,scale:re,rotate:Di,color:Ni,opacity:ki,anchor:Ve,area:qi,sprite:we,text:Yi,rect:Oi,circle:Xi,uvquad:Gi,outline:Qi,body:Zi,doubleJump:ji,shader:Wi,timer:Ar,fixed:Ji,stay:mr,health:Hi,lifespan:_i,z:Ci,move:Ki,outview:pr,cleanup:zi,follow:Li,state:$i,on:Ut,onUpdate:pi,onDraw:Ai,onAdd:sr,onDestroy:mi,onCollide:gi,onClick:Vi,onHover:wi,onHoverUpdate:yi,onHoverEnd:vi,onKeyDown:ur,onKeyPress:ht,onKeyPressRepeat:hr,onKeyRelease:lr,onMouseDown:Ei,onMousePress:dr,onMouseRelease:bi,onMouseMove:Ri,onCharInput:Si,onTouchStart:Ti,onTouchMove:Pi,onTouchEnd:Fi,onVirtualButtonPress:Ui,onVirtualButtonDown:Mi,onVirtualButtonRelease:Bi,mousePos:it,mouseDeltaPos:We,isKeyDown:_e,isKeyPressed:$t,isKeyPressedRepeat:He,isKeyReleased:pe,isMouseDown:fe,isMousePressed:Ft,isMouseReleased:zt,isMouseMoved:Je,isVirtualButtonPressed:$e,isVirtualButtonDown:tr,isVirtualButtonReleased:er,loop:xi,wait:ar,play:kt,volume:Qr,burp:ze,audioCtx:P.ctx,Timer:se,Line:Nt,Rect:O,Circle:oe,Polygon:Wt,Point:mt,Vec2:L,Color:U,Mat4:B,Quad:Q,RNG:Ir,rand:ue,randi:Dr,randSeed:qn,vec2:m,rgb:R,hsl2rgb:Ro,quad:zn,choose:On,chance:Yn,lerp:ae,map:Ue,mapc:Kn,wave:Sr,deg2rad:xt,rad2deg:Mr,testLineLine:Zt,testRectRect:Xn,testRectLine:Zn,testRectPoint:he,drawSprite:qe,drawText:Jt,formatText:yt,drawRect:_,drawLine:Lt,drawLines:Ye,drawTriangle:Oe,drawCircle:Pt,drawEllipse:Ge,drawUVQuad:Tt,drawPolygon:wt,drawFormattedText:vt,drawMasked:ei,drawSubtracted:ri,pushTransform:rt,popTransform:H,pushTranslate:C,pushScale:St,pushRotate:uo,pushRotateX:_r,pushRotateY:$r,pushRotateZ:Vt,pushMatrix:Hr,debug:N,scene:tn,go:en,addLevel:on,getData:rn,setData:gr,download:Me,downloadJSON:$n,downloadText:Cr,downloadBlob:Pr,plug:Vr,ASCII_CHARS:Un,canvas:a.canvas,addKaboom:dn,LEFT:L.LEFT,RIGHT:L.RIGHT,UP:L.UP,DOWN:L.DOWN,RED:U.RED,GREEN:U.GREEN,BLUE:U.BLUE,YELLOW:U.YELLOW,MAGENTA:U.MAGENTA,CYAN:U.CYAN,WHITE:U.WHITE,BLACK:U.BLACK,quit:yn};if(r.plugins&&r.plugins.forEach(Vr),r.global!==!1)for(let t in Yt)window[t]=Yt[t];return Yt},"default");Zo({loadingScreen:!1,background:[30,30,40]});function Ln(r,u){return center().add(Vec2.fromAngle(r).scale(u))}scene("main",()=>{const r=width()/4;add([pos(center()),anchor("center"),rect(width(),height()),color(30,30,40)]).onDraw(()=>{drawCircle({pos:vec2(0,0),radius:r,color:rgb(51,46,65)}),drawCircle({pos:vec2(0,0),radius:r/2,color:rgb(30,30,40)})});const a=-90,h=(r+r/2)/2,w=(r-r/2)*.25,A=[],S=6,T=add([pos(Ln(a,h)),area({shape:new Rect(vec2(-w,-w),w*2,w*2)}),circle(w),color(177,227,173),{speed:180,_angle:a,update(){this._angle+=this.speed*dt(),this.pos=Ln(this._angle,h)}}]);let P=0;onUpdate(()=>{P+=dt(),P>.08&&(A.push(T.pos),A.length>S&&A.shift(),P=0)}),onDraw(()=>{let Y=.5,Z=w/4;A.forEach((J,st)=>{Y+=.03,drawCircle({pos:J,radius:Z/S*(st+1),color:rgb(177,227,173),opacity:Y})})});function F(){return{spinSpeed:120,update(){this.angle+=this.spinSpeed*dt()}}}function I(){const Y=center().x-r,Z=center().x+r;return{maxAngle:choose([90,180,270]),startPos:rand(Y,Z),spinSpeed:120,update(){this.pos.x>this.startPos&&this.angle<this.maxAngle&&(this.angle+=this.spinSpeed*dt())}}}function x(){return{update(){this.angle=wave(-15,15,window.time()*6)}}}function V(){return choose([F(),x(),I()])}const q=120,k=width()/q;loop(k,()=>{let Y=0,Z=0,J=w*2,st=J*2.15;const Et=center().y-r,gt=center().y+r;for(let ct=0;ct<2;ct+=1)Z=rand(Et,gt),chance(.5)&&([st,J]=[J,st]),add([rect(J,st,{radius:50}),pos(Y,Z),anchor("center"),color(227,140,143),move(RIGHT,120),area(),rotate(0),V(),"obstacle"]),Y=Y-center().x;add([rect(w,w),pos(Y+center().x/2,Z),anchor("center"),rotate(0),move(RIGHT,120),area(),F(),"bait"])}),onKeyPress("space",()=>{T.speed=-1*T.speed}),onTouchStart(()=>{T.speed=-1*T.speed}),T.onCollide("bait",Y=>Y.destroy()),T.onCollide("obstacle",Y=>{shake(),addKaboom(T.pos)})});go("main");
